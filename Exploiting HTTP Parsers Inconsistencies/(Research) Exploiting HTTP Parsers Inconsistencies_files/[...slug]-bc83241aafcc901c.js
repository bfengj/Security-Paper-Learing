(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[330],{50881:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[...slug]",function(){return a(39789)}])},39789:function(e,t,a){"use strict";a.r(t),a.d(t,{__N_SSP:function(){return A},default:function(){return S}});var r=a(85893),l=a(67294),i=a(54615),o=a(94743),s=a(85550),n=a(5152),c=a.n(n),d=a(5714),m=a(45077),u=a(16266),b=a(27724),h=a(74162),g=function(){let{post:e}=(0,h.Fn)(),t=e.coverImage&&-1!==e.coverImage.indexOf("/unsplash/");return(0,r.jsx)("main",{className:"blog-post-detail-card pb-24",children:(0,r.jsxs)("article",{className:"blog-article-page",children:[(0,r.jsx)("div",{className:"container relative z-40 mx-auto grid grid-cols-8",children:(0,r.jsxs)("div",{className:"col-span-full lg:col-span-6 lg:col-start-2",children:[e.coverImage&&!e.stickCoverToBottom&&(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(b.Z,{className:"mb-0 block w-full",placeholder:"blur",originalSrc:e.coverImage,src:(0,d.tg)(e.coverImage,{w:1600,h:840,...e.isCoverImagePortrait?{fill:"blur"}:{c:"thumb"}}),blurDataURL:(0,d.nM)((0,d.tg)(e.coverImage,{...m.blurImageDimensions,...e.isCoverImagePortrait?{fill:"blur"}:{c:"thumb"}})),width:1600,height:840,alt:e.title,layout:"responsive",priority:!0}),t&&!e.isCoverAttributionHidden&&e.coverImageAttribution&&e.coverImagePhotographer?(0,r.jsx)("div",{className:"absolute bottom-0 right-0 mb-4 mr-2 rounded-lg bg-slate-200 px-2 py-2 text-black dark:bg-slate-800 dark:text-white md:px-6",children:(0,r.jsxs)("p",{className:"text-sm",children:["Photo by"," ",(0,r.jsx)("a",{className:"underline",href:"".concat(e.coverImageAttribution,"?utm_source=Hashnode&utm_medium=referral"),rel:"noopener nofollow noreferrer",target:"_blank",children:e.coverImagePhotographer})," ","on"," ",(0,r.jsx)("a",{className:"underline",href:"https://unsplash.com/?utm_source=Hashnode&utm_medium=referral",rel:"noopener nofollow noreferrer",target:"_blank",children:"Unsplash"})]})}):null]}),(0,r.jsx)("div",{className:(0,u.d)("mt-6 break-words px-4 text-center font-heading text-3xl font-extrabold text-slate-900 dark:text-white md:mt-10 md:px-5 md:text-4xl lg:px-8 xl:px-20 xl:text-5xl",e.subtitle?"mb-5":"mb-8 md:mb-14"),children:(0,r.jsx)("h1",{className:"leading-snug","data-query":"post-title",children:e.title})}),e.subtitle&&(0,r.jsx)("div",{className:"mb-8 px-4 text-center font-heading md:mb-14 md:px-5 lg:px-8 xl:px-20",children:(0,r.jsx)("h2",{className:"text-2xl leading-snug text-slate-700 dark:text-slate-400 md:text-3xl xl:text-3xl",children:e.subtitle})}),(0,r.jsxs)("div",{className:"mb-8 flex flex-row flex-wrap items-center justify-center px-4 md:-mt-7 md:mb-14 md:text-lg",children:[(0,r.jsxs)("div",{className:"mb-5 flex w-full flex-row items-center justify-center md:mb-0 md:w-auto md:justify-start",children:[(0,r.jsx)("div",{className:"mr-2 h-10 w-10 overflow-hidden rounded-full bg-slate-200 dark:bg-white/20 md:mr-3 md:h-12 md:w-12",children:(0,r.jsx)("div",{className:"h-full w-full bg-black opacity-10"})}),(0,r.jsx)("a",{href:"https://hashnode.com/@".concat(e.author.username),className:"font-medium text-slate-900 dark:text-white",children:(0,r.jsx)("span",{children:e.author.name})})]}),(0,r.jsxs)("div",{className:"mb-5 flex w-full flex-row items-center justify-center md:mb-0 md:w-auto md:justify-start",children:[(0,r.jsx)("span",{className:"mx-3 hidden font-bold text-slate-500 md:block",children:"\xb7"}),(0,r.jsx)("div",{className:"w-32 rounded-lg bg-black py-4 opacity-10 dark:bg-white dark:opacity-20"}),(0,r.jsx)("span",{className:"mx-3 block font-bold text-slate-500",children:"\xb7"}),(0,r.jsx)("div",{className:"w-32 rounded-lg bg-black py-4 opacity-10 dark:bg-white dark:opacity-20"})]})]}),e.coverImage&&e.stickCoverToBottom&&(0,r.jsxs)("div",{className:"relative my-14",children:[(0,r.jsx)(b.Z,{className:"mb-0 block w-full",placeholder:"blur",originalSrc:e.coverImage,src:(0,d.tg)(e.coverImage,{w:1600,h:840,...e.isCoverImagePortrait?{fill:"blur"}:{c:"thumb"}}),blurDataURL:(0,d.nM)((0,d.tg)(e.coverImage,{...m.blurImageDimensions,...e.isCoverImagePortrait?{fill:"blur"}:{c:"thumb"}})),width:1600,height:840,alt:e.title,layout:"responsive"}),t&&!e.isCoverAttributionHidden&&e.coverImageAttribution&&e.coverImagePhotographer?(0,r.jsx)("div",{className:"absolute bottom-0 right-0 mb-4 mr-2 rounded-lg bg-slate-200 px-2 py-2 text-black dark:bg-slate-800 dark:text-white md:px-6",children:(0,r.jsxs)("p",{className:"text-xs sm:text-sm",children:["Photo by"," ",(0,r.jsx)("a",{className:"underline",href:"".concat(e.coverImageAttribution,"?utm_source=Hashnode&utm_medium=referral"),rel:"noopener nofollow noreferrer",target:"_blank",children:e.coverImagePhotographer})," ","on"," ",(0,r.jsx)("a",{className:"underline",href:"https://unsplash.com/?utm_source=Hashnode&utm_medium=referral",rel:"noopener nofollow noreferrer",target:"_blank",children:"Unsplash"})]})}):null]})]})}),(0,r.jsxs)("div",{className:"blog-content-wrapper article-main-wrapper container relative z-30 mx-auto grid grid-flow-row grid-cols-8 xl:gap-6 2xl:grid-cols-10",children:[(0,r.jsxs)("section",{className:"blog-content-main relative z-20 col-span-8 mb-10 px-4 md:z-10 lg:col-span-6 lg:col-start-2 lg:px-0 xl:col-span-6 xl:col-start-2 2xl:col-span-6 2xl:col-start-3",children:[(0,r.jsx)("div",{className:"relative z-10 mb-5 animate-pulse border-b border-t py-5 dark:border-slate-800 md:mb-10",children:(0,r.jsx)("div",{className:"flex flex-row justify-between",children:(0,r.jsxs)("div",{className:"flex flex-row items-start md:items-center",children:[(0,r.jsx)("div",{className:"mr-2 h-12 w-12 overflow-hidden rounded-full md:mr-5 md:h-16 md:w-16",children:(0,r.jsx)("div",{className:"h-full w-full bg-black opacity-10 dark:bg-white dark:opacity-20"})}),(0,r.jsxs)("div",{className:"leading-snug",children:[(0,r.jsx)("div",{className:"mb-1 h-4 w-48 rounded-lg bg-black opacity-10 dark:bg-white dark:opacity-20"}),(0,r.jsx)("div",{className:"mb-1 h-4 w-24 rounded-lg bg-black opacity-10 dark:bg-white dark:opacity-20"}),(0,r.jsx)("div",{className:"mb-1 h-4 w-24 rounded-lg bg-black opacity-10 dark:bg-white dark:opacity-20"})]})]})})}),(0,r.jsxs)("div",{className:"animate-pulse",children:[(0,r.jsx)("div",{className:"mb-3 h-5 w-full rounded-lg bg-black opacity-10 dark:bg-white dark:opacity-20"}),(0,r.jsx)("div",{className:"mb-3 h-5 w-full rounded-lg bg-black opacity-10 dark:bg-white dark:opacity-20"}),(0,r.jsx)("div",{className:"mb-3 h-5 w-2/3 rounded-lg bg-black opacity-10 dark:bg-white dark:opacity-20"}),(0,r.jsx)("div",{className:"mb-3 h-5 w-2/3 rounded-lg bg-black opacity-10 dark:bg-white dark:opacity-20"}),(0,r.jsx)("div",{className:"mb-3 h-5 w-1/3 rounded-lg bg-black opacity-10 dark:bg-white dark:opacity-20"}),(0,r.jsx)("div",{className:"h-8"}),(0,r.jsx)("div",{className:"mb-3 h-5 w-full rounded-lg bg-black opacity-10 dark:bg-white dark:opacity-20"}),(0,r.jsx)("div",{className:"mb-3 h-5 w-full rounded-lg bg-black opacity-10 dark:bg-white dark:opacity-20"}),(0,r.jsx)("div",{className:"mb-3 h-5 w-2/3 rounded-lg bg-black opacity-10 dark:bg-white dark:opacity-20"}),(0,r.jsx)("div",{className:"mb-3 h-5 w-2/3 rounded-lg bg-black opacity-10 dark:bg-white dark:opacity-20"}),(0,r.jsx)("div",{className:"mb-3 h-5 w-1/3 rounded-lg bg-black opacity-10 dark:bg-white dark:opacity-20"})]})]}),(0,r.jsx)("div",{className:"blog-content-sidebar relative z-10 col-span-10 w-full min-w-full md:z-20 xl:col-auto xl:ml-10 xl:h-full xl:w-40"})]})]})})},p=a(81651),x=a(42236);let f=x.jU&&"IntersectionObserver"in window,w=e=>{let{getElements:t,predicates:a,executor:r,options:i,enabled:o}=e;(0,l.useEffect)(()=>{f&&o&&t().then(e=>{if(Array.isArray(e)){let t=new IntersectionObserver(e=>{e.forEach(e=>{let l=e.target;e.isIntersecting&&(r.onIntersection(e),a.unobservePredicate(l)&&t.unobserve(l))})},i);e.forEach(e=>{a.observePredicate(e)&&t.observe(e)})}})},[o])},v=e=>{let{enabled:t}=e;(0,l.useEffect)(()=>{!f&&t&&(async()=>{document.querySelectorAll("a.embed-card").forEach(e=>{(0,i.x)(e)})})()},[t]),w({getElements:async()=>{let e=document.querySelectorAll("a.embed-card");return e?Array.from(e):[]},predicates:{observePredicate:()=>!0,unobservePredicate:()=>!0},executor:{onIntersection:e=>(0,i.x)(e.target)},options:x.jU?{rootMargin:"0px 0px ".concat(document.documentElement.clientHeight,"px 0px")}:{},enabled:t})};var y=a(14437);let k=c()(()=>Promise.all([a.e(8820),a.e(7726),a.e(7138),a.e(7179)]).then(a.bind(a,87179)),{loadableGenerated:{webpack:()=>[87179]},loading:()=>(0,r.jsx)(g,{})}),j=c()(()=>a.e(8113).then(a.bind(a,18113)),{loadableGenerated:{webpack:()=>[18113]},ssr:!1}),N=async()=>{var e,t;let a=new s.Z("/api/publication/pinned-widgets",{credentials:"same-origin"});await a.exec();let r=null===(e=a.rawResponse)||void 0===e?void 0:e.status;if(200!==r)return null;let l=await (null===(t=a.rawResponse)||void 0===t?void 0:t.json());return l.widgets},I=async e=>{let t=new s.Z("/ajax/user/update-reading-history",{method:"POST",body:JSON.stringify({postId:e}),credentials:"same-origin"});await t.exec()},P=e=>{let{publication:t,post:a,totalUsersWhoLikedArticle:s}=e,n=JSON.parse(t),c=JSON.parse(a),{data:d}=(0,p.Z)(),[m,u]=(0,l.useState)(!1);v({enabled:m});let{openModal:b}=(0,y.d)(),[,h]=(0,l.useState)(!1),[g,x]=(0,l.useState)([]),f=()=>{b((0,r.jsx)(j,{authorName:n.author.name,authorProfilePicture:n.author.profilePicture,title:n.title,favicon:n.favicon,isTeam:n.isTeam}))};return(0,l.useEffect)(()=>{screen.width<=425&&h(!0),c&&(async()=>{await (0,i.U)(),(0,o.triggerCustomWidgetEmbed)(c.publication._id.toString());let e=await N();e&&x(e),u(!0)})()},[]),(0,l.useEffect)(()=>{let e=g&&g.length>0;e&&(0,o.triggerCustomWidgetEmbed)(c.publication._id.toString())},[g]),(0,l.useEffect)(()=>{d&&c&&I(c._id.toString())},[d]),(0,r.jsx)("div",{className:"blog-post-area relative z-40",children:(0,r.jsx)(k,{goToPublicationLogin:f,isPublicationPost:!0,widgets:g,totalUsersWhoLikedArticle:s})})};var _=a(66933);let E=e=>{let{rootLayout:t}=e;return(0,r.jsx)(_.Z,{...t,children:(0,r.jsx)(P,{...e})})};var A=!0,S=E},54615:function(e,t,a){"use strict";a.d(t,{U:function(){return o},x:function(){return i}});var r=a(85550);let l=["codepen.io","twitter.com","youtube.com","youtu.be","glitch.com","github.com","soundcloud.com","anchor.fm","spotify.com","giphy.com","gph.is","codesandbox.io","canva.com","twitch.tv","expo.io","repl.it","runkit.com","vimeo.com","loom.com","hashnode.com","facebook.com","fb.watch","instagram.com","instagr.am","snappify.io","snappify.com","stackblitz.com"],i=async e=>{var t,a;if(!e)return;let i="".concat("https://webembeds.com","/api/embed"),o=e.getAttribute("href");if(!o)return;let s=!1;for(let e of l)if(o.includes(e)){s=!0;break}try{let e=new URL(i);e.searchParams.set("maxwidth","800"),e.searchParams.set("url",encodeURIComponent(o)),o.includes("twitch.tv")&&e.searchParams.set("customHost",encodeURIComponent(window.location.hostname)),o.includes("open.spotify.com")&&(e.searchParams.set("width","300"),e.searchParams.set("height","380")),o.includes("vimeo.com")&&e.searchParams.set("width","640"),s||e.searchParams.set("forceFallback","1"),i=e.toString()}catch(e){return}let n=new r.Z(i,{credentials:"same-origin"});await n.exec();let c=await (null===(t=n.rawResponse)||void 0===t?void 0:t.status);if(200!==c)return;let d=await (null===(a=n.rawResponse)||void 0===a?void 0:a.json());if(d.data.error)return;d=d.data.output;let{parentNode:m}=e;if(!m)return;if(-1===d.html.indexOf("gist.github.com")){let{width:e,thumbnail_height:t,html:a,provider_name:r}=d;if("Instagram"===r){let r=document.createElement("iframe");r.srcdoc=a,r.width=e,t&&(r.height=t+5),r.style.overflow="hidden",r.scrolling="no",r.onload=e=>{var t;if(!e.target)return;let{document:a}=null===(t=e.target)||void 0===t?void 0:t.contentWindow;a&&a.body.scrollHeight>0&&(e.target.height=a.body.scrollHeight)},m.innerHTML="",m.appendChild(r);return}m.innerHTML=a,Array.from(m.querySelectorAll("script")).forEach(async e=>{var t;if(!e)return;let a=document.createElement("script");Array.from(e.attributes).forEach(e=>a.setAttribute(e.name,e.value)),e.innerHTML&&a.appendChild(document.createTextNode(e.innerHTML)),null===(t=e.parentNode)||void 0===t||t.replaceChild(a,e)}),"Facebook"===r&&"FB"in window&&FB.init({version:"v2.7",xfbml:!0});return}let u=document.createElement("iframe");u.setAttribute("width","100%"),u.setAttribute("frameBorder","0"),u.setAttribute("scrolling","no"),u.id="gist-".concat(new Date().getTime()),m.innerHTML="",m.appendChild(u);let b="<html><body onload=\"parent.adjustIframeSize('".concat(u.id,"', document.body.scrollHeight)\">").concat(d.html,"</body></html>"),h=u.document;u.contentDocument?h=u.contentDocument:u.contentWindow&&(h=u.contentWindow.document),h&&(h.open(),h.writeln(b),h.close())},o=()=>new Promise(e=>{if(window.iframeResizerLoaded)return e(null);let t=document.createElement("script");t.src="/js/iframe-resizer.js",t.async=!0,t.defer=!0,t.onload=e;let a=document.getElementsByTagName("script")[0];a&&a.parentNode&&(a.parentNode.insertBefore(t,a),window.iframeResizerLoaded=!0)})}},function(e){e.O(0,[4661,6933,9774,2888,179],function(){return e(e.s=50881)}),_N_E=e.O()}]);