/*! For license information please see PostPage.MainContent.357c221c.chunk.js.LICENSE.txt */
(self.webpackChunklite=self.webpackChunklite||[]).push([[5531],{38125:(e,n,t)=>{var i=t(14259);e.exports=function(e){return null!=e&&e.length?i(e,0,-1):[]}},45578:(e,n,t)=>{var i=t(67206),a=t(45652);e.exports=function(e,n){return e&&e.length?a(e,i(n,2)):[]}},68254:e=>{"use strict";var n=Math.floor(1099511627776*Math.random()).toString(16),t=new RegExp('"@__(F|R|D|M|S|U)-'+n+'-(\\d+)__@"',"g"),i=/\{\s*\[native code\]\s*\}/g,a=/function.*?\(/,o=/.*?=>.*?/,r=/[<>\/\u2028\u2029]/g,l=["*","async"],d={"<":"\\u003C",">":"\\u003E","/":"\\u002F","\u2028":"\\u2028","\u2029":"\\u2029"};function s(e){return d[e]}e.exports=function e(d,c){c||(c={}),"number"!=typeof c&&"string"!=typeof c||(c={space:c});var m,u=[],p=[],k=[],v=[],f=[],g=[];return c.ignoreFunction&&"function"==typeof d&&(d=void 0),void 0===d?String(d):(m=c.isJSON&&!c.space?JSON.stringify(d):JSON.stringify(d,c.isJSON?null:function(e,t){if(c.ignoreFunction&&function(e){var n=[];for(var t in e)"function"==typeof e[t]&&n.push(t);for(var i=0;i<n.length;i++)delete e[n[i]]}(t),!t&&void 0!==t)return t;var i=this[e],a=typeof i;if("object"===a){if(i instanceof RegExp)return"@__R-"+n+"-"+(p.push(i)-1)+"__@";if(i instanceof Date)return"@__D-"+n+"-"+(k.push(i)-1)+"__@";if(i instanceof Map)return"@__M-"+n+"-"+(v.push(i)-1)+"__@";if(i instanceof Set)return"@__S-"+n+"-"+(f.push(i)-1)+"__@"}return"function"===a?"@__F-"+n+"-"+(u.push(i)-1)+"__@":"undefined"===a?"@__U-"+n+"-"+(g.push(i)-1)+"__@":t},c.space),"string"!=typeof m?String(m):(!0!==c.unsafe&&(m=m.replace(r,s)),0===u.length&&0===p.length&&0===k.length&&0===v.length&&0===f.length&&0===g.length?m:m.replace(t,(function(n,t,r){return"D"===t?'new Date("'+k[r].toISOString()+'")':"R"===t?"new RegExp("+e(p[r].source)+', "'+p[r].flags+'")':"M"===t?"new Map("+e(Array.from(v[r].entries()),c)+")":"S"===t?"new Set("+e(Array.from(f[r].values()),c)+")":"U"===t?"undefined":function(e){var n=e.toString();if(i.test(n))throw new TypeError("Serializing native function: "+e.name);if(a.test(n))return n;if(o.test(n))return n;var t=n.indexOf("("),r=n.substr(0,t).trim().split(" ").filter((function(e){return e.length>0}));return r.filter((function(e){return-1===l.indexOf(e)})).length>0?(r.indexOf("async")>-1?"async ":"")+"function"+(r.join("").indexOf("*")>-1?"*":"")+n.substr(t):n}(u[r])}))))}},41116:(e,n,t)=>{"use strict";t.d(n,{j:()=>r});var i=t(67294),a=t(47230),o=t(77355),r=function(e){var n=e.children,t=e.href,r=e.width,l=void 0===r?{xs:"100%",sm:"100%",md:"min-width",lg:"min-width",xl:"min-width"}:r;return i.createElement(a.zx,{href:t,buttonStyle:"SUBTLE",width:l},i.createElement(o.x,{textAlign:"center"},n))}},43566:(e,n,t)=>{"use strict";t.r(n),t.d(n,{MainContent:()=>Lo,useLoader:()=>Ro});var i=t(96156),a=t(64718),o=t(67294),r=t(51615),l=t(92030),d=t(75882),s=t(90732),c=t(5911),m=t(8575),u=t(90833),p=t(77280),k=t(43487),v=t(78870);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var h=["blog.coinbase.com","moody-pub.medium.fail"],S=function(e){var n=e.post.mediumUrl,t=e.matchedPath,i=e.children,a=(0,k.v9)((function(e){return e.navigation.currentHash})),r=(0,p.Wd)("postPublishedType"),l=(0,p.Wd)("responsesOpen"),s=(0,p.PM)(),c=(0,p.G1)(),f=(0,k.v9)((function(e){return e.navigation.host})),S=(0,v.mb)();if(!n||S)return i;var N=m.parse(decodeURIComponent(n)),y=g(g(g(g({},s?{source:s}:{}),c?{sk:c}:{}),r?{postPublishedType:r}:{}),l?{responsesOpen:l}:{});return f!==N.host?h.indexOf(f)>-1?o.createElement(d.$,null):o.createElement(u.l,{to:(0,v.Rk)(n,y,a),replace:!0,isMediumApp:!0}):N.path&&t!==N.path?o.createElement(u.l,{to:(0,v.Rk)(N.path,y,a),replace:!0}):i},N=t(87329),y=t(94078),b=t(78620),x={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MeterClickable_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UpsellClickable_post"}}]}}].concat((0,N.Z)(b.H.definitions))},F=t(68216),E={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FriendLinkSharer_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}}].concat((0,N.Z)(F.$m.definitions))},w={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FriendLinkMeter_postContent"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostContent"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"validatedShareKey"}},{kind:"Field",name:{kind:"Name",value:"shareKeyCreator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FriendLinkSharer_user"}}]}}]}}].concat((0,N.Z)(E.definitions))},P={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FriendLinkMeter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FriendLinkMeter_postContent"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FriendLinkSharer_user"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"MeterClickable_post"}}]}}].concat((0,N.Z)(w.definitions),(0,N.Z)(E.definitions),(0,N.Z)(x.definitions))},_={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostViewerEdgeContentQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"fullContent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}},{kind:"Field",name:{kind:"Name",value:"validatedShareKey"}},{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_bodyModel"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"FriendLinkMeter_postContent"}}]}}]}}]}}]}}]}}].concat((0,N.Z)(y.Pk.definitions),(0,N.Z)(w.definitions))},O=function(){var e,n,t,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=(0,k.v9)((function(e){return e.navigation.referrer})),d=null!==(e=(0,p.G1)())&&void 0!==e?e:void 0,s={referrer:l,sk:d,source:null!==(n=(0,p.PM)())&&void 0!==n?n:void 0},c=!r&&!d,m=(0,a.a)(_,{variables:{postId:o,postMeteringOptions:s},ssr:!1,skip:!o||c}),u=m.loading,v=m.error,f=m.data,g=null==f||null===(t=f.post)||void 0===t||null===(i=t.viewerEdge)||void 0===i?void 0:i.fullContent;return u?{loading:u}:v?{error:v}:{content:g}},T=t(96370),I=t(66411),C=t(50458),D=t(16517),R=t(68427),L=t(84739),A=t(97480),M=t(77355),Z=t(18634),B=t(20113),V=t(31889),j=t(82053),U=t(4381),W=t(43158),H=t(47459),G=t(21755),z=function(e){return e.filter((function(e){return!(null==e||!e.feedId||null==e||!e.post)}))},Y=function(e){var n=e.item,t=n.feedId,i=n.post,a=e.index,r=e.source,l=e.lastIndex,d=(0,V.F)(),s=(0,k.v9)((function(e){return e.client.viewerIsBot}));return o.createElement(W.P,{size:{xs:12,sm:12,md:6,lg:6,xl:6}},o.createElement(M.x,{paddingBottom:{xs:"32px",sm:"32px",md:"56px",lg:"56px",xl:"56px"},height:"100%"},o.createElement(I.cW,{extendSource:!0,source:{name:r,index:a,feedId:s?void 0:t}},o.createElement(j.w,{index:a,post:i,scale:"S",aspectRatio:U.Pr.TwoToOne,lastIndex:l,dividerBreakpoints:[G.j.xs,G.j.sm],dividerColor:d.colorTokens.border.neutral.tertiary.base,miroImgFetchedWidth:679}))))},K=function(e){var n=e.items,t=e.source;return o.createElement(H.T,{alignItems:"stretch"},n.map((function(e,i){return o.createElement(Y,{key:e.post.id,item:e,index:i,source:t,lastIndex:n.length-1})})))},q=t(41116),X=function(e){var n=e.authorCollectionRecircFeed,t=e.user,i=e.collection,a=(0,V.F)(),r=(null==n?void 0:n.items)||[],l=z(r),d=(0,L.B)(t);if(null==l||!l.length)return null;var s=1===(null==l?void 0:l.length);return o.createElement(o.Fragment,null,o.createElement(T.P,{size:"app"},o.createElement(M.x,{marginTop:"40px",marginBottom:"32px"},o.createElement(B.X6,{scale:"XS"},"More from ",t.name,i&&" and ".concat(i.name))),s?o.createElement(o.Fragment,null,o.createElement(Z.y,{xs:!0,sm:!0},o.createElement(K,{items:l,source:"author_recirc"})),o.createElement(Z.y,{md:!0,lg:!0,xl:!0},o.createElement(D.j,{post:l[0].post,scale:"L",index:0,lastIndex:0,dividerColor:a.colorTokens.border.neutral.tertiary.base}))):o.createElement(K,{items:l,source:"author_recirc"}),o.createElement(A.E,{marginTop:s?{xs:"32px",sm:"32px",md:"24px",lg:"24px",xl:"24px"}:void 0,marginBottom:{xs:"32px",sm:"32px",md:"24px",lg:"24px",xl:"24px"},borderColor:a.colorTokens.border.neutral.tertiary.base}),o.createElement(M.x,{display:"flex",flexDirection:{xs:"column",sm:"column",md:"row",lg:"row",xl:"row"}},o.createElement(q.j,{href:d},"See all from ",null==t?void 0:t.name),i&&o.createElement(Q,{collection:i}))),o.createElement(A.E,{marginTop:{xs:"72px",sm:"72px",md:"96px",lg:"96px",xl:"96px"},borderColor:a.colorTokens.border.neutral.tertiary.base}))},Q=function(e){var n=e.collection,t=(0,R.R)(n);return o.createElement(M.x,{marginTop:{xs:"16px",sm:"16px",md:"0px",lg:"0px",xl:"0px"},marginLeft:{xs:"0",sm:"0",md:"16px",lg:"16px",xl:"16px"}},o.createElement(q.j,{href:t},"See all from ",null==n?void 0:n.name))},J=t(3934),$=t(38004),ee={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromAuthorAndMaybePub_authorCollectionRecircFeedResult"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AuthorCollectionRecircFeedResult"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"GridPostPreview_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"StreamPostPreview_post"}}]}},{kind:"Field",name:{kind:"Name",value:"feedId"}}]}}]}}].concat((0,N.Z)(J.d.definitions),(0,N.Z)($.w.definitions))},ne={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromAuthorAndMaybePub_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}}].concat((0,N.Z)(F.$m.definitions))},te={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromAuthorAndMaybePub_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}}].concat((0,N.Z)(F.nf.definitions))},ie={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MoreFromAuthorAndMaybePubQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AuthorCollectionRecircFeedInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"authorCollectionRecircFeed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MoreFromAuthorAndMaybePub_authorCollectionRecircFeedResult"}}]}}]}}].concat((0,N.Z)(ee.definitions))},ae=t(21043),oe=t(51873),re=t(36764),le=t(93310),de=t(87691),se=t(29746),ce=t(92305),me=t(17583),ue=t(35989),pe=t(25145),ke=t(63459),ve=t(48342),fe=t(73279),ge=t(27323),he=t(52069),Se=t(13663);function Ne(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function ye(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ne(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ne(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var be=(0,o.forwardRef)((function(e,n){var t=e.post,i=t.collection,a=t.creator,r=t.title,l=t.isLocked,d=t.readingTime,s=t.createdAt,c=(0,pe.L)(t);return o.createElement(M.x,{marginRight:"16px",flexShrink:"0",ref:n},o.createElement(Se.o,{post:ye(ye({},t),{},{previewContent:{isFullContent:!1}}),presentationContext:"POST_PREVIEW",shouldReportClientViewed:!1},o.createElement(ge.P,{href:c},o.createElement(M.x,{borderRadius:"4px",border:"neutral.primary",background:"white",width:"240px",height:"148px",padding:"24px",display:"flex",flexDirection:"column"},o.createElement(M.x,{flexGrow:"1",flexBasis:"0%"},a&&o.createElement(M.x,{display:"flex",alignItems:"center",marginBottom:"8px"},o.createElement(re.h,{author:a,collection:i,includeAvatar:!0,includeVerifiedAuthorBadge:!0})),o.createElement(he.Dx,{scale:"XS",clamp:2},r)),o.createElement(M.x,{display:"flex",alignItems:"center"},l&&o.createElement(o.Fragment,null,o.createElement(ue.U,{post:t,hideLabelDesktop:!0}),o.createElement(fe.O,{margin:"0 8px"})),d&&o.createElement(o.Fragment,null,o.createElement(de.F,{scale:"S"},o.createElement(ve.K,{readingTime:d})),o.createElement(fe.O,{margin:"0 8px"})),o.createElement(de.F,{scale:"S"},o.createElement(ke.Ej,{timestamp:s})))))))})),xe=function(e){var n,t,i=e.catalog,a=e.currentPostId,r=(0,V.F)(),l=(0,k.v9)((function(e){return e.config.authDomain})),d=(0,me.s)(),s=(0,o.useRef)(null),c=d===G.j.xs||d===G.j.sm?300:600,m=(0,C.yk)(i,l),u=null==i||null===(n=i.itemsConnection)||void 0===n||null===(t=n.items)||void 0===t?void 0:t.map((function(e){var n;return"Post"===(null===(n=e.entity)||void 0===n?void 0:n.__typename)?e.entity:void 0})).filter((function(e){return!!e&&e.id!==a})).slice(0,10);return u.length?o.createElement(I.cW,{extendSource:!0,source:{name:"list_recirc",catalogId:i.id}},o.createElement(M.x,{marginBottom:{xs:"40px",sm:"40px",md:"52px",lg:"52px",xl:"52px"}},o.createElement(A.E,{borderColor:r.colorTokens.border.neutral.primary.base,marginBottom:{xs:"30px",sm:"30px",md:"50px",lg:"50px",xl:"50px"}}),o.createElement(T.P,{size:"app"},o.createElement(B.X6,{scale:"XS"},o.createElement(le.r,{href:m},'More from the list: "',(0,ce.Ze)(i),'"')),o.createElement(M.x,{display:"flex",marginTop:"8px",alignItems:"center"},o.createElement(M.x,{flexShrink:"0",whiteSpace:"nowrap",marginRight:"4px"},o.createElement(de.F,{scale:"S"},"Curated by")),o.createElement(re.h,{author:i.creator}))),o.createElement(M.x,{margin:"24px 0",position:"relative"},o.createElement(oe.J8,{firstItemRef:s,scrollPixels:c,arrowPadding:"8px"},o.createElement(M.x,{flexShrink:"0",width:"calc(50% - ".concat(ae.d/2,"px)"),xs:{width:(0,se.a)(ae.l6)},sm:{width:(0,se.a)(ae.l6)}}),u.map((function(e,n){return o.createElement(be,{key:"".concat(e.id,"-").concat(n),post:e,ref:0===n?s:null})})))),o.createElement(T.P,{size:"app"},o.createElement(de.F,{scale:"S",color:"ACCENT"},o.createElement(le.r,{href:m},"View list"))))):null},Fe=t(54341),Ee=t(27048),we=t(18821),Pe=t(89080),_e=t(4088),Oe=t(82864),Te={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromListPostCard_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserAvatar_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserMentionTooltip_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}}]}}].concat((0,N.Z)(Ee.W.definitions),(0,N.Z)(F.$m.definitions),(0,N.Z)(Fe.O.definitions),(0,N.Z)(we.H.definitions))},Ie={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromListPostCard_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"Field",name:{kind:"Name",value:"createdAt"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MoreFromListPostCard_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionLinkWithPopover_collection"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostUrl_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Star_post"}}]}}].concat((0,N.Z)(Te.definitions),(0,N.Z)(Pe.W.definitions),(0,N.Z)(_e.u.definitions),(0,N.Z)(Oe.W.definitions))},Ce={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromList_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"catalogUrl_catalog"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserMentionTooltip_user"}}]}},{kind:"Field",name:{kind:"Name",value:"itemsConnection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pagingOptions"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogItemId"}},{kind:"Field",name:{kind:"Name",value:"entity"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MoreFromListPostCard_post"}}]}}]}}]}}]}}].concat((0,N.Z)(F.Ui.definitions),(0,N.Z)(Fe.O.definitions),(0,N.Z)(Ie.definitions))},De={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MoreFromListQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"catalogId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogById"},arguments:[{kind:"Argument",name:{kind:"Name",value:"catalogId"},value:{kind:"Variable",name:{kind:"Name",value:"catalogId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MoreFromList_catalog"}}]}}]}}]}}].concat((0,N.Z)(Ce.definitions))},Re=t(60028),Le={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromMedium_rexRecircResult"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RexRecircResult"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RexRecircItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"feedId"}},{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"GridPostPreview_post"}}]}}]}}]}}]}}].concat((0,N.Z)(J.d.definitions))},Ae={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MoreFromMedium_catalogsConnection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CatalogsConnection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"catalogs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CatalogPreview_catalog"}}]}}]}}].concat((0,N.Z)(Re.N.definitions))},Me={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MoreFromMediumRecircQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"recirc"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"6"}}]}},{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MoreFromMedium_rexRecircResult"}}]}}]}}].concat((0,N.Z)(Le.definitions))},Ze={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MoreFromMediumRecommendedListsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postCatalogRecirc"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"Argument",name:{kind:"Name",value:"pagingOptions"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"4"}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MoreFromMedium_catalogsConnection"}}]}}]}}].concat((0,N.Z)(Ae.definitions))},Be=t(71582),Ve=t(93513),je=t(6280),Ue=function(e){var n=e.isDockingEnabled,t=void 0!==n&&n,i=e.undockedBackgroundColor,a=e.maxWidthSize,r=void 0===a?"inset":a,l=e.children,d=e.marginBottom,s=void 0===d?{xs:"10px",sm:"10px",md:"26px",lg:"26px",xl:"26px"}:d,c=(0,je.$)(t),m=c.dockRef,u=c.markerRef,p=c.isStuck;return o.createElement(o.Fragment,null,o.createElement(M.x,{ref:u}),o.createElement(M.x,{tag:"footer",ref:m,display:"flex",alignItems:"center",boxSizing:"content-box",height:(0,se.a)(Ve.T),maxHeight:(0,se.a)(Ve.T),zIndex:"1",position:t?{xs:"static",sm:"static",md:"sticky",lg:"sticky",xl:"sticky"}:"static",bottom:t?{xs:void 0,sm:void 0,md:"0",lg:"0",xl:"0"}:void 0,backgroundColor:p?"BACKGROUND":i,borderTop:p?{xs:"NONE",sm:"NONE",md:"neutral.primary",lg:"neutral.primary",xl:"neutral.primary"}:"NONE",marginBottom:s},o.createElement(M.x,{flexGrow:"1"},o.createElement(T.P,{size:r},l))))},We=t(34699),He=t(22122),Ge=t(86706),ze=t(6443),Ye=t(39727),Ke=t(39507),qe=t(37597),Xe=t(47230),Qe=t(91583),Je=t(18635),$e=t(54945),en=t(34135),nn=t(75221),tn=t(78285),an=t(78142),on=t(38993),rn=t(21254),ln=t(95445),dn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostPublishedDialogQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPublishedDialog_post"}}]}}]}}].concat((0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPublishedDialog_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"inResponseToPostResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"inResponseToCatalogResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}}]}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"curationEligibleAt"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"Field",name:{kind:"Name",value:"isPublishToEmail"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"isMarkedPaywallOnly"}}]}}]))},sn=function(){return o.createElement(M.x,null,o.createElement(le.r,{inline:!0,linkStyle:"OBVIOUS",href:(0,C.Sc)()},"Learn more")," ","about what happens to your post when you publish.")};var cn,mn=function(e){var n=e.url,t=e.label,i=e.post,a=e.isFriendLink,r=void 0!==a&&a,l=e.testId,d={postId:null==i?void 0:i.id,source:"post_publish_dialog"};return o.createElement(ln.b,(0,He.Z)({url:n},d),(function(e){return o.createElement(M.x,{marginBottom:"8px"},o.createElement(Xe.zx,{"data-testid":null!=l?l:"publishSuccessCopyLinkButton",buttonStyle:"SOCIAL",size:"LARGE",padding:Xe.He,width:Xe.hU,onClick:function(e){return e}},o.createElement(M.x,{display:"flex",alignItems:"center",justifyContent:"space-between"},r?o.createElement(on.Z,null):o.createElement(rn.Z,null),e?"Copied!":t,o.createElement(M.x,{height:"24px",width:"24px"}))))}))},un=function(e){var n=e.post,t=e.isUnlisted,i=e.postPath;return o.createElement(M.x,{display:"flex",flexDirection:"column",alignItems:"center"},o.createElement(de.F,{color:"DARKER",scale:"L"},function(e){return e?"Share your story outside Medium.":"Share your story with the world."}(t)),o.createElement(M.x,{marginTop:"20px"},!t&&o.createElement(o.Fragment,null,o.createElement(qe.f,{socialPlatform:"FACEBOOK",buttonStyle:"BUTTON_BRANDED",postId:n.id,testId:"publishSuccessShareFbButton"}),o.createElement(M.x,{marginBottom:"12px"}),o.createElement(qe.f,{socialPlatform:"TWITTER",buttonStyle:"BUTTON_BRANDED",postId:n.id,testId:"publishSuccessShareTwitterButton"}),o.createElement(M.x,{marginBottom:"12px"}),o.createElement(qe.f,{socialPlatform:"LINKEDIN",buttonStyle:"BUTTON_BRANDED",postId:n.id,testId:"publishSuccessShareLinkedinButton"}),o.createElement(M.x,{marginBottom:"12px"})),o.createElement(mn,{url:i,label:"Copy link",post:n})))},pn=function(e){var n=e.viewerId,t=e.isVisible,i=e.hide,a=e.post,r=a.id,l=a.visibility,d=a.curationEligibleAt,s=a.mediumUrl,c=a.isNewsletter,m=a.isPublishToEmail,u=a.isMarkedPaywallOnly,p=a.creator,f=(0,Ke.T)(a),g=f.viewerEdge,h=f.loading,S="UNLISTED"===l,N=!!d,y=(null==g?void 0:g.creatorPartnerProgramEnrollmentStatus)===nn.iR.ENROLLED,b=null==g?void 0:g.shareKey,x=(0,k.v9)((function(e){return e.config.productName})),F="Your story is published!";return m&&n===(null==p?void 0:p.id)?F="Your story has been published and sent!":c&&(F="Your newsletter is on its way!"),h?null:o.createElement(Qe.V,{isVisible:t,hide:i,withAnimation:!0,withCloseButton:!1},o.createElement(M.x,{background:an.ix,borderRadius:"4px",boxShadow:"0 2px 10px ".concat((0,an.Uy)(.15)),position:"relative",textAlign:"center",width:{xs:"calc(100vw - 128px)",sm:"calc(100vw - 128px)",md:"600px",lg:"900px",xl:"900px"}},o.createElement(M.x,{padding:"56px",display:"flex",flexDirection:"column",justifyContent:"center",minHeight:"485px"},o.createElement(M.x,{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},o.createElement($e.H2,{scale:"L",tag:"h3",testId:"publishSuccessTitleText"},F),o.createElement(M.x,{maxWidth:"520px",marginTop:"20px"},o.createElement(de.F,{color:"DARKER",scale:"L",testId:"publishSuccessBodyText"},function(e,n,t,i,a,r){return i?function(e,n){return e?"Your email will be delivered to your newsletter subscribers and editors, but will not appear publicly on ".concat(n,"."):o.createElement(o.Fragment,null,"Your subscribers and editors should have it soon. It’ll also show up on ",n," readers’ homepages and Digest emails depending on their interests."," ",o.createElement(le.r,{inline:!0,linkStyle:"OBVIOUS",href:"https://help.medium.com/hc/en-us/articles/115004682167-How-to-use-Newsletters"},"Learn more"))}(e,r):e?"Your unlisted story will not appear publicly on ".concat(r,", but you can still share it."):a?"You've chosen this story to be member-only. Anyone can see a short preview but only paying members can read the full story.":t?n?o.createElement(o.Fragment,null,"As a member of the Partner Program, you’ve chosen to make this story eligible to earn money by placing it behind the paywall.",o.createElement(sn,null)):o.createElement(o.Fragment,null,"You did not choose to paywall this story, so it won't be eligible to earn money.",o.createElement(sn,null)):o.createElement(o.Fragment,null,"This story isn’t currently eligible to earn money. To make this story eligible, join the"," ",r," Partner Program."," ",o.createElement(le.r,{inline:!0,linkStyle:"OBVIOUS",href:"https://medium.com/earn"},"Learn more."))}(S,N,y,c,null!=u&&u,x))),o.createElement(M.x,{paddingTop:"20px"},N&&!S&&s&&b&&o.createElement(mn,{url:(0,v.Rk)((0,C.jV)(a),{sk:b}),label:"Copy Friend Link",post:a,isFriendLink:!0,testId:"publishSuccessCopyFriendLinkButton"})),o.createElement(M.x,{borderBottom:"neutral.primary",width:"100%",margin:"20px 0"})),r&&s&&o.createElement(un,{post:a,isUnlisted:S,postPath:(0,C.jV)(a)})),o.createElement(Je.P,{onClick:i,size:"LARGE",testId:"publishSuccessCloseButton"})))};!function(e){e.initial="initial",e.repub="repub"}(cn||(cn={}));var kn=function(e){var n,t=e.post,i=(0,p.Wd)("postPublishedType"),r=(0,a.a)(dn,{variables:{postId:t.id},skip:i!==cn.initial}),l=r.data,d=(l=void 0===l?{}:l).post,s=r.loading,c=(0,ze.H)().value,m=(0,o.useState)(!1),u=(0,We.Z)(m,2),k=u[0],v=u[1],f=(0,o.useCallback)((function(){return v(!1)}),[v]),g=(0,Ge.I0)(),h=(0,Ye.g)(t.collection).viewerEdge,S=(null==c?void 0:c.id)===(null===(n=t.creator)||void 0===n?void 0:n.id)||t.collection&&(null==h?void 0:h.isEditor);(0,o.useEffect)((function(){switch(i){case cn.initial:v(!0);break;case cn.repub:g((0,tn.Dx)({duration:3e3,message:"Your changes have been published."}))}}),[i]);var N=(0,o.useState)(!1),y=(0,We.Z)(N,2),b=y[0],x=y[1];return b?s||!d||d.inResponseToPostResult||d.inResponseToCatalogResult?null:c&&S?o.createElement(pn,{isVisible:k,hide:f,post:d,viewerId:c.id}):null:(en.V6.on("load",(function(){return x(!0)})),null)},vn=t(52439),fn=t(95071),gn=/rgba\(([\d]+),\s*([\d]+),\s*([\d]+),\s*([\d]+|[\d]*.[\d]+)\)/,hn=function(e){var n,t,i=e.children,a=e.forwardedRef,r=e.margin,l=(0,V.F)();return o.createElement(o.Fragment,null,o.createElement(M.x,{marginTop:"-240px",background:"linear-gradient(".concat((n=l.backgroundColor,t=n.match(gn),t?"rgba(".concat(t[1],", ").concat(t[2],", ").concat(t[3],", 0)"):(0,an.l9)(0)),", ").concat(l.backgroundColor,")"),height:"250px",position:"relative",width:"100%"}),o.createElement(M.x,{backgroundColor:"BACKGROUND",ref:a},o.createElement(M.x,{margin:"auto",maxWidth:"760px",sm:{margin:null!=r?r:"0 24px 0"}},i)))},Sn=(0,o.forwardRef)((function(e,n){return o.createElement(hn,(0,He.Z)({},e,{forwardedRef:n}))})),Nn=(0,o.memo)(Sn),yn=t(43822),bn=t(18627),xn=t(39944),Fn=function(e){var n=e.postId,t=e.align,i=e.entityId,a=e.id,r=e.buttonStyle,l=void 0===r?"STRONG":r,d=e.onClick,s=(0,ze.H)().value,c=(0,bn.A)(),m=(0,k.v9)((function(e){return e.config.authDomain})),u=null==s?void 0:s.hasPastMemberships,p=(0,v.Rk)((0,C.c5)(m),{subscribeToUserId:i||"",susiEntry:"post_paywall"}),f=o.useCallback((function(){c.event("paywall.upgradeClicked",{postId:n,userId:null==s?void 0:s.id}),null==d||d()}),[n,null==s?void 0:s.id]),g=u?"182px":"104px",h=u?"Resume membership":"Upgrade";return o.createElement(xn.M,{source:"upgrade_membership",dimension:"post_limit",sourceProviderData:{postId:n},eventData:{postId:n}},o.createElement(M.x,{display:"flex",textAlign:"center",justifyContent:"left"===t?"flex-start":"center"},o.createElement(yn.a,{isButton:!0,onClick:f,buttonStyle:l,width:g,redirectUrl:p,id:a},h)))},En=t(14818),wn=t(14646),Pn=t(18122),_n=t(76689),On=function(){return{flexShrink:0,marginRight:"12px",width:"16px",height:"16px"}},Tn=function(e){var n=e.headerText,t=e.reasonsToUpgrade,i=e.paywall,a=e.postId,r=(0,wn.I)(),l=(0,me.s)(),d="xs"===l||"sm"===l,s=(0,o.useMemo)((function(){var e=(null==i?void 0:i.creatorSpotlights)||[];return d&&e.length>6?e.filter((function(e){return!e.hideOnSmallScreen})):e}),[d,i]),c=(0,o.useMemo)((function(){return["Access all member-only stories on Medium"].concat((0,N.Z)(t))}),[t]),m=(0,ze.H)().value,u=(0,bn.A)(),p=(0,o.useCallback)((function(){u.event("paywall.presented",{type:i.type,userId:null==m?void 0:m.id})}),[i.type,null==m?void 0:m.id]),k=(0,Pn.g)({onPresentedFn:p});return o.createElement(Nn,{margin:"0 -24px",ref:k},o.createElement(M.x,{display:"flex",justifyContent:"center",textAlign:"center",sm:{flexDirection:"column"}},o.createElement(M.x,{display:"flex",flexDirection:"column",padding:{xs:"28px 33px 32px",sm:"28px 33px 32px",md:"32px",lg:"32px",xl:"32px"},marginTop:"32px",textAlign:"center",borderRadius:"4px",maxWidth:"100%"},o.createElement($e.H2,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},n),o.createElement(M.x,{marginTop:"32px"},o.createElement(de.F,{scale:"M",color:"DARKER"},"The author made this story available to Medium members only. Upgrade to instantly unlock this story plus other member-only benefits.")),o.createElement(M.x,{margin:"22px auto 34px"},c.map((function(e,n){return o.createElement(M.x,{display:"flex",alignItems:"center",key:"reason-".concat(n),marginTop:"12px",textAlign:"left"},o.createElement(_n.Z,{className:r(On)}),o.createElement(de.F,{scale:"M",color:"DARKER"},e))}))),o.createElement(M.x,{display:"flex",justifyContent:"space-between",flexWrap:"wrap",marginBottom:"30px"},s.map((function(e){return o.createElement(M.x,{key:e.name,display:"flex",alignItems:"center",flexDirection:"column",flexGrow:"1",flexShrink:"1",flexBasis:d?"33%":"25%",marginBottom:"32px","data-testid":"creator-spotlight"},o.createElement(En.z,{alt:e.name,miroId:e.miroId,diameter:64}),o.createElement(M.x,{marginTop:"8px",textAlign:"center"},o.createElement(de.F,{scale:d?"S":"M",color:"DARKER"},e.name),o.createElement(de.F,{scale:"XS"},e.title),e.company&&o.createElement(de.F,{scale:"XS"},e.company)))}))),o.createElement(Fn,{id:"paywallButton-programming",postId:a,align:"center",buttonStyle:"STRONG"}))))},In=t(57142),Cn=["Dive deeper into the topics that matter to you",o.createElement(o.Fragment,null,"Get in-depth articles answering thousands of questions"),"Achieve your personal and professional goals"],Dn=function(e){var n,t=e.paywall,i=e.post,a=(0,ze.H)().value,r=function(e,n){var t=e?(0,In.J)(e):null;t=t&&t.length<=13?t:null;var i=n?" from ".concat(n):"";return t?"".concat(t,", read this story").concat(i," — and all the best stories on Medium."):"Read this story".concat(i," — and all the best stories on Medium.")}(null==a?void 0:a.name,null===(n=i.creator)||void 0===n?void 0:n.name);return o.createElement(Tn,{headerText:r,reasonsToUpgrade:Cn,paywall:t,postId:i.id})},Rn=function(e){switch(e){case"javascript":return"JavaScript";case"ios-development":return"iOS development";case"android-development":return"Android development";default:return e.replace("-"," ").toLowerCase()}},Ln=function(e){var n,t,i=e.paywall,a=e.post,r=(0,ze.H)().value,l=null!==(n=null===(t=a.primaryTopic)||void 0===t?void 0:t.slug)&&void 0!==n?n:null,d=function(e,n){var t=e?(0,In.J)(e):null;if(t=t&&t.length<=13?t:null,n){var i=Rn(n);return t?"".concat(t,", read the best stories about ").concat(i," from industry leaders on Medium."):"Read the best stories about ".concat(i," from industry leaders on Medium.")}return t?"".concat(t,", read the best stories from industry leaders on Medium."):"Read the best stories from industry leaders on Medium."}(null==r?void 0:r.name,l),s=(0,o.useMemo)((function(){return function(e){var n=e?Rn(e):"technical";return["Become an expert in your areas of interest","Get in-depth answers to thousands of questions about ".concat(n),"Grow your career or build a new one"]}(l)}),[l]);return o.createElement(Tn,{headerText:d,reasonsToUpgrade:s,paywall:i,postId:a.id})},An=t(6402),Mn=[{kind:"FragmentDefinition",name:{kind:"Name",value:"EntityPaywall_paywall"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostPaywall"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creatorSpotlights"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"company"}},{kind:"Field",name:{kind:"Name",value:"miroId"}},{kind:"Field",name:{kind:"Name",value:"hideOnSmallScreen"}}]}},{kind:"Field",name:{kind:"Name",value:"type"}}]}}],Zn={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AspirationalPaywall_paywall"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostPaywall"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntityPaywall_paywall"}}]}}].concat((0,N.Z)(Mn))},Bn={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ProgrammingPaywall_paywall"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostPaywall"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntityPaywall_paywall"}}]}}].concat((0,N.Z)(Mn))},Vn={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Paywall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageId"}}]}},{kind:"Field",name:{kind:"Name",value:"primaryTopic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"topics"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"AspirationalPaywall_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ProgrammingPaywall_post"}}]}}].concat((0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"AspirationalPaywall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"ProgrammingPaywall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"primaryTopic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}}]}}]))},jn={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Paywall"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"paywall"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"FragmentSpread",name:{kind:"Name",value:"AspirationalPaywall_paywall"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ProgrammingPaywall_paywall"}}]}}]}}]}}]}}].concat((0,N.Z)(Zn.definitions),(0,N.Z)(Bn.definitions))},Un=function(e){var n,t=e.post,i=(0,ze.H)().value,r=(0,bn.A)();(0,o.useEffect)((function(){r.event("paywall.viewed",{userId:null==i?void 0:i.id})}),[]);var l=(0,a.a)(jn,{ssr:!1,variables:{postId:t.id}}),d=l.data,s=l.error,c=l.loading;(0,o.useEffect)((function(){s&&An.k.error({error:s},"Paywall query error")}),[s]);var m=(0,o.useState)(!1),u=(0,We.Z)(m,2),p=u[0],k=u[1],v=(0,o.useCallback)((function(e,n){p||(k(!0),An.k.error(e,n))}),[p]),f=null==d||null===(n=d.post)||void 0===n?void 0:n.viewerEdge.paywall;if(s||c||!f)return null;switch(f.type){case nn.zB.PROGRAMMING:return o.createElement(Ln,{paywall:f,post:t});case nn.zB.ASPIRATIONAL:return o.createElement(Dn,{paywall:f,post:t});default:return v({paywall:f},"Unknown paywall type"),null}},Wn=t(39610),Hn=t(26350),Gn=t(28451),zn=t(54935),Yn=t(27393),Kn=t(69862),qn=t(40578),Xn=t(40980),Qn=function(e){var n=e.postId,t=e.susiEntry,i="register",a={operation:i,postId:n},r=(0,zn.j)().openModal;return o.createElement(M.x,{display:"flex",flexDirection:"column",textAlign:"center",margin:{xs:"32px 0",sm:"32px 0",md:"64px 0",lg:"64px 0",xl:"64px"}},o.createElement(Xn.$,{eventData:a},o.createElement(qn.x,{operation:i})),o.createElement(M.x,{marginTop:"10px",sm:{marginTop:"12px"}},o.createElement(Xn.$,{eventData:a},o.createElement(Kn.q,{operation:i}))),o.createElement(M.x,{marginTop:"10px",sm:{marginTop:"12px"}},o.createElement(Xn.$,{eventData:a},o.createElement(Yn.R,{goToEmailAuthStep:function(){r({step:"ENTER_EMAIL",susiEntry:t,operation:i})},operation:i}))))},Jn="post_regwall",$n=function(e){var n=e.post,t=(0,bn.A)(),i="LOCKED_POST_SOURCE_SYNDICATED"===n.lockedSource,a=(0,k.v9)((function(e){return e.navigation.susiEmail})),r=(0,zn.j)().susiModalConfig.operation;(0,o.useEffect)((function(){t.event("meter.viewed",{meterCount:0,postId:n.id,uiType:i?Gn.j.SyndicatedRegwall:Gn.j.RegWall})}),[]);var l=(0,o.useCallback)((function(){t.event("regwall.presented",{})}),[]),d=(0,Pn.g)({onPresentedFn:l});return o.createElement(I.cW,{source:{postId:n.id,susiEntry:Jn}},o.createElement(Nn,{margin:"0px",ref:d},o.createElement(M.x,{display:"flex",textAlign:"center",justifyContent:"center",flexDirection:"column"},o.createElement(M.x,{padding:{xs:"28px 0 48px",sm:"28px 0 48px",md:"56px",lg:"56px",xl:"56px"}},o.createElement($e.H2,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},a?"Check your inbox.":o.createElement(M.x,null,"Create an account to read the full story.")),o.createElement(de.F,{color:"DARKER",scale:"M",tag:"div"},a?o.createElement(o.Fragment,null,o.createElement(M.x,{paddingTop:"12px",paddingBottom:"56px"},"login"===r?"There is an existing account associated with ".concat(a,", and we have just sent a link you can use to sign in."):"Click the link we sent to ".concat(a," to complete your account setup and\n                    continue reading this story.")),o.createElement(de.F,{color:"LIGHTER",scale:"M"},"Didn't get the link?"," ",o.createElement(Hn.R,{linkStyle:"OBVIOUS",operation:"register",post:n,susiEntry:Jn},"Try again"))):o.createElement(de.F,{color:"DARKER",scale:"L"},o.createElement(M.x,{margin:"32px 0 0"},o.createElement(de.F,{color:"DARKER",scale:"M"},"The author made this story available to Medium members only.",o.createElement("br",null),"If you’re new to Medium, create a new account to read this story on us.")),o.createElement(de.F,{color:"DARKER",scale:"M"},o.createElement(M.x,{display:{xs:"block",sm:"block",md:"none",lg:"none",xl:"none"}},o.createElement(M.x,{margin:"32px 0"},o.createElement(Wn.a,{isButton:!0,buttonSize:"REGULAR",postId:n.id,appEntry:"regwall",copy:"Continue in app"})),o.createElement(M.x,null,"Or, continue in mobile web"))),o.createElement(Qn,{postId:n.id,susiEntry:Jn}),"Already have an account?"," ",o.createElement(Hn.R,{linkStyle:"OBVIOUS",inline:!0,operation:"login",post:n,susiEntry:Jn},"Sign in")))))))},et=function(e){var n=e.post,t=n.id,i=n.content.isLockedPreviewOnly,a=(0,ze.H)(),r=a.value,l=a.loading,d=!!r;if(!O(t,i).loading&&i){if(d)return o.createElement(Un,{post:n});if(!l)return o.createElement($n,{post:n})}return null},nt=t(21919),tt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddCollaboratorMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addCollaborator"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}]}]}}]},it=t(73776),at=t(32393),ot=t(70405),rt=t(82492),lt=t.n(rt),dt=t(68254),st=t.n(dt),ct=t(20512),mt=t(46696),ut=t(15085);function pt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function kt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?pt(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var vt=(0,Ge.$j)((function(e){var n=e.config,t=n.productName,i=n.defaultImages,a=n.collectionStructuredData,o=e.navigation;return{currentLocation:o.currentLocation,host:o.host,productName:t,defaultImages:i,collectionStructuredData:a}}))((function(e){var n=e.currentLocation,t=e.host,i=e.post,a=e.postDescription,r=e.productName,l=e.defaultImages,d=e.collectionStructuredData,s=i.collection,c=i.creator,m=i.id,u=i.mediumUrl,p=i.isLocked,k=i.previewImage,f=i.firstPublishedAt,g=i.updatedAt,h=(0,ut._t)(i,r),S={id:l.postLogo.imageId,originalWidth:l.postLogo.width,originalHeight:l.postLogo.height},N={id:l.orgLogo.imageId,originalWidth:l.orgLogo.width,originalHeight:l.orgLogo.height},y=s?{"@type":"Organization",name:s.name,url:s.domain||(0,v.l1)(t,(0,C.WG)(s,n)),logo:function(e){if(!e||!e.logo||!e.logo.id)return(0,ct.lc)(N);var n=(0,ct.lc)(e.logo);return n&&60===n.height&&n.width<=600?n:(0,ct.lc)(N)}(s)}:{"@type":"Organization",name:r,url:(0,v.l1)(t,"/"),logo:(0,ct.lc)(N)};s&&d&&d[s.id]&&lt()(y,d[s.id].data);var b=k&&k.id?(0,ct.Y4)(kt(kt({},k),{},{miroId:k.id,croppedWidth:1200})):(0,ct.NJ)({url:(0,mt.W6)({miroId:S.id,width:S.originalWidth}),height:S.originalHeight,width:S.originalWidth}),x=a||"",F=p?{isAccessibleForFree:"False",hasPart:{"@type":"WebPageElement",isAccessibleForFree:"False",cssSelector:".meteredContent"}}:{},E=kt({"@type":"NewsArticle",image:b,url:u,dateCreated:f&&new Date(f).toISOString(),datePublished:f&&new Date(f).toISOString(),dateModified:g&&new Date(g).toISOString(),headline:h,name:h,description:x,identifier:m,author:c&&c.name&&c.username?{"@type":"Person",name:c.name||c.username,url:(0,C.AW)(c,t)}:null,creator:c&&[c.name],publisher:y,mainEntityOfPage:u},F),w=kt(kt({},{"@context":"http://schema.org"}),E);return o.createElement(ot.ql,null,o.createElement("script",{type:"application/ld+json"},st()(w,{isJSON:!0})))})),ft=t(21372),gt=t(22680);function ht(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function St(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ht(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ht(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Nt=(0,Ge.$j)((function(e){return{authDomain:e.config.authDomain,host:e.navigation.host,productName:e.config.productName}}))((function(e){var n,t,i,a,r=e.authDomain,l=e.productName,d=e.post,s=d.canonicalUrl,c=d.collection,m=d.creator,u=d.id,p=d.latestPublishedAt,k=d.mediumUrl,v=d.previewContent,f=d.socialTitle,g=d.socialDek,h=d.visibility,S=d.isShortform,N="UNLISTED"===h,y=!d.firstPublishedAt,b=null==m?void 0:m.name,x=(0,ut.yB)(d),F=d.title||"",E=x.latestTitle||F;if(S){var w=St(St({},d),{},{title:E});i=(0,ut.oS)(w,l,x.hasTitleGraf).trim(),a=(0,gt.O)(d,x.hasTitleGraf)}else i=(0,ut._t)(d,l,x,!0).trim(),a=(0,gt.j)(d);var P,_,O,T=g||(null==v?void 0:v.subtitle)||a;if(null!=d&&null!==(n=d.previewImage)&&void 0!==n&&n.id&&!d.isLimitedState){var I=d.previewImage;P=(0,mt.vz)({miroId:I.id,aspectRatio:1.9,croppedWidth:I.originalWidth?Math.min(I.originalWidth,1200):1200,originalWidth:I.originalWidth,originalHeight:I.originalHeight,focusPercentX:I.focusPercentX,focusPercentY:I.focusPercentY}),d.previewImage.alt&&(_=d.previewImage.alt)}else if(d.isLimitedState){var D={id:"1*3SjgcTt7wCYYS10ff6-0JQ.png",originalWidth:748,originalHeight:390,focusPercentX:50,focusPercentY:40};P=(0,mt.vz)({miroId:D.id,aspectRatio:1.9,croppedWidth:D.originalWidth?Math.min(D.originalWidth,1200):1200,originalWidth:D.originalWidth,originalHeight:D.originalHeight,focusPercentX:D.focusPercentX,focusPercentY:D.focusPercentY}),_="This image was reported as a potential violation of Medium's rules and is under investigation."}null!=m&&m.username&&(O=(0,C.AW)(m,r));var R=(0,C.CK)(u),L=!(null!==(t=(0,ut.c_)(d))&&void 0!==t&&t.shouldIndexPost),A=p&&new Date(p).toISOString(),M=(0,ft.Vd)(d.readingTime||0),Z=null==m?void 0:m.twitterScreenName,B=(null==c?void 0:c.twitterUsername)||"Medium",V=null==c?void 0:c.facebookPageId,j=f||F||E;d.isLimitedState&&(j="");var U=d.isLimitedState?"":T,W=(0,o.useMemo)((function(){var e;return o.createElement(ot.ql,null,o.createElement("meta",{property:"og:type",content:"article"}),A&&o.createElement("meta",{property:"article:published_time",content:A}),o.createElement("title",null,i),o.createElement("meta",{name:"title",content:i}),o.createElement("meta",{property:"og:title",content:j}),V&&o.createElement("meta",{property:"fb:pages",content:V}),o.createElement("meta",{property:"al:android:url",content:R}),o.createElement("meta",{property:"al:ios:url",content:R}),o.createElement("meta",{property:"al:android:app_name",content:"Medium"}),a&&o.createElement("meta",{name:"description",content:a}),T&&o.createElement("meta",{property:"og:description",content:U}),o.createElement("meta",{property:"og:url",content:null!=k?k:void 0}),o.createElement("meta",{property:"al:web:url",content:null!=k?k:void 0}),P&&o.createElement("meta",{property:"og:image",content:P}),_&&o.createElement("meta",{property:"og:image:alt",content:_}),O&&o.createElement("meta",{property:"article:author",content:O}),O&&o.createElement("link",{rel:"author",href:O}),b&&o.createElement("meta",{name:"author",content:b}),o.createElement("link",{rel:"canonical",href:null!==(e=s||k)&&void 0!==e?e:void 0}),o.createElement("link",{rel:"alternate",href:(0,C.zi)((0,C.o2)("medium.com",d.id))}),o.createElement("meta",{name:"robots",content:"".concat(L?"noindex":"index",",follow,max-image-preview:large")}),o.createElement("meta",{name:"referrer",content:N||y?"origin":"unsafe-url"}),o.createElement("meta",{property:"twitter:title",content:j}),o.createElement("meta",{name:"twitter:site",content:"@".concat(B)}),o.createElement("meta",{name:"twitter:app:url:iphone",content:R}),T&&o.createElement("meta",{property:"twitter:description",content:U}),P&&o.createElement("meta",{name:"twitter:image:src",content:P}),_&&o.createElement("meta",{name:"twitter:image:alt",content:_}),o.createElement("meta",{name:"twitter:card",content:P?"summary_large_image":"summary"}),Z&&o.createElement("meta",{name:"twitter:creator",content:"@".concat(Z)}),o.createElement("meta",{name:"twitter:label1",content:"Reading time"}),o.createElement("meta",{name:"twitter:data1",content:"".concat(M," min read")}))}),[i,s,k,P,_,u,f,a,O,b,Z,R,L,p,A]);return o.createElement(o.Fragment,null,W,o.createElement(vt,{post:d,postDescription:a}))})),yt=t(7834),bt=t(66487),xt=t(50455),Ft=t(80687),Et=t(56804),wt=t(17878),Pt=t(38160),_t=t(21232),Ot=function(e){var n,t=e.post,i=e.socialPopoverPosition,a=void 0===i?"beginning":i,r=o.useContext(_t.f).openSidebar,l=!!(0,ze.H)().value,d=t.creator,s="clap_footer",c={post:t,source:"post_actions_footer"},m=(null==t||null===(n=t.postResponses)||void 0===n?void 0:n.count)||null;return o.createElement(M.x,{display:"flex",justifyContent:"space-between",print:{display:"none"}},o.createElement(I.cW,{source:{name:"post_actions_footer"}},o.createElement(M.x,{display:"flex",flexDirection:"row",alignItems:"center"},o.createElement(M.x,{maxWidth:"155px"},o.createElement(wt.e,null,o.createElement(Et.S,{post:t,buttonStyle:"SUBTLE_MARGIN",hasDialog:!0,shouldShowResponsiveLabelText:!0,shouldHideClapsText:!0,susiEntry:s,buttonColor:"LIGHTER",countScale:"S",testId:"footerClapButton"})),o.createElement(wt.s,null,o.createElement(Et.S,{post:t,buttonStyle:"SUBTLE_MARGIN",hasDialog:!0,shouldHideClapsText:!0,susiEntry:s,buttonColor:"LIGHTER",countScale:"S",testId:"footerClapButton"}))),o.createElement(I.cW,{source:{name:"follow_footer",susiEntry:"follow_footer"}},o.createElement(M.x,{display:"flex",marginLeft:"24px"},o.createElement(Pt.c,{trackingData:{postId:t.id},responsesCount:m,allowResponses:t.allowResponses,isLimitedState:t.isLimitedState,isPublished:t.isPublished,handleClick:r,iconStylesOverride:{marginTop:"0px"},countStylesOverride:{marginLeft:"4px",marginTop:"0px"},testId:"footerResponseButton"}))))),o.createElement(M.x,{display:"flex",alignItems:"center"},"beginning"===a&&o.createElement(Ft.I,c),o.createElement(M.x,{flexGrow:"0",marginLeft:"beginning"===a?"20px":void 0,marginRight:"20px"},o.createElement(I.cW,{source:{name:"post_actions_footer"}},o.createElement(xt.e,{post:t,susiEntry:"bookmark_footer",testId:"footerBookmarkButton"}))),"end"===a&&o.createElement(M.x,{flexGrow:"0",marginRight:"20px"},o.createElement(Ft.I,(0,He.Z)({},c,{testId:"footerSocialShareButton"}))),t&&d&&l&&o.createElement(bt.t,{post:t,testId:"footerStoryOptionsButton"})))},Tt=t(17235),It=t(30020),Ct=t(53690),Dt=t(78271),Rt=t(50344),Lt=t(8969),At=t(45957),Mt=function(e){return{fill:e.colorTokens.foreground.neutral.secondary.base}};function Zt(e){switch(e){case"PUBLIC_DOMAIN":return"Except where otherwise noted, this work is in the public domain.";case"CC_40_ZERO":return"Except where otherwise noted, this work has been dedicated to the public domain using CC0.";default:return"Except where otherwise noted, this work is licensed under a ".concat(Vt(e,"title")," license by the author.")}}var Bt={PUBLIC_DOMAIN:{title:"Public Domain",link:"https://creativecommons.org/publicdomain/mark/1.0/"},CC_40_ZERO:{title:"Creative Commons copyright waiver",link:"http://creativecommons.org/publicdomain/zero/1.0/"},CC_40_BY:{title:"Creative Commons Attribution 4.0 International",link:"http://creativecommons.org/licenses/by/4.0/"},CC_40_BY_ND:{title:"Creative Commons Attribution-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nd/4.0/"},CC_40_BY_SA:{title:"Creative Commons Attribution-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-sa/4.0/"},CC_40_BY_NC:{title:"Creative Commons Attribution-NonCommercial 4.0 International",link:"https://creativecommons.org/licenses/by-nc/4.0/"},CC_40_BY_NC_ND:{title:"Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International",link:"https://creativecommons.org/licenses/by-nc-nd/4.0/"},CC_40_BY_NC_SA:{title:"Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International",link:"https://creativecommons.org/licenses/by-nc-sa/4.0/"}};function Vt(e,n){return Bt[e][n]}var jt,Ut,Wt=function(e){var n=e.license,t=(0,wn.I)();return n?o.createElement(M.x,{display:"inline"},o.createElement(M.x,{display:"inline-block"},o.createElement(de.F,{scale:"M"},o.createElement(It._,{tooltipText:Zt(n),maxWidth:300},o.createElement(le.r,{disableSourceParam:!0,href:Vt(n,"link"),linkStyle:"SUBTLE",inline:!0,target:"_blank"},function(e){switch(e){case"PUBLIC_DOMAIN":return"Public domain.";case"CC_40_ZERO":return"No rights reserved";default:return"Some rights reserved"}}(n))))),o.createElement(M.x,{display:"inline-block"},o.createElement(de.F,{scale:"M"},"CC_40_ZERO"===n&&o.createElement("span",null," by the author."),o.createElement("span",{className:t(Mt),style:{marginLeft:"5px",verticalAlign:"text-bottom"}},function(e){return{CC_40_ZERO:o.createElement(At.Z,null),CC_40_BY:o.createElement(Ct.Z,null),CC_40_BY_ND:o.createElement(o.Fragment,null,o.createElement(Ct.Z,null),o.createElement(Rt.Z,null)),CC_40_BY_SA:o.createElement(o.Fragment,null,o.createElement(Ct.Z,null),o.createElement(Lt.Z,null)),CC_40_BY_NC:o.createElement(o.Fragment,null,o.createElement(Ct.Z,null),o.createElement(Dt.Z,null)),CC_40_BY_NC_ND:o.createElement(o.Fragment,null,o.createElement(Ct.Z,null),o.createElement(Dt.Z,null),o.createElement(Rt.Z,null)),CC_40_BY_NC_SA:o.createElement(o.Fragment,null,o.createElement(Ct.Z,null),o.createElement(Dt.Z,null),o.createElement(Lt.Z,null)),PUBLIC_DOMAIN:o.createElement(o.Fragment,null)}[e]}(n))))):null},Ht=t(42440),Gt=function(e){var n=e.post,t=e.marginBottom,i=(null==n?void 0:n.tags)||[];return i.length?o.createElement(M.x,{display:"flex",flexWrap:"wrap","align-items":"flex-start",marginTop:"6px",marginBottom:t},i.map((function(e){return o.createElement(M.x,{display:"flex",marginTop:"8px",key:e.id},o.createElement(Tt.P,{topic:e}))}))):null},zt=function(){return o.createElement(M.x,{padding:"0 8px",display:"inline"},o.createElement(fe.O,{display:"inline",scale:"M"}))},Yt=function(e){var n,t=e.post,i=t.visibility,a=t.license,r="UNLISTED"===i,l=!(!a||"ALL_RIGHTS_RESERVED"===a),d=!(null===(n=t.tags)||void 0===n||!n.length),s=r||l;return d||s?o.createElement(T.P,{size:"app"},o.createElement(Gt,{post:t,marginBottom:s?"40px":"26px"}),s&&o.createElement(M.x,{marginTop:d?"0px":"12px",marginBottom:"26px"},r&&o.createElement(M.x,{display:"inline"},o.createElement(de.F,{scale:"M",tag:"span"},o.createElement(Ht.Z,null)," Unlisted")),r&&l&&o.createElement(zt,null),l&&o.createElement(Wt,{license:a}))):null},Kt=t(60672),qt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TopicViewerEdge"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"topicId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"topic"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"topicId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Topic"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TopicViewerEdge_topicViewerEdge"}}]}}]}}]}}]}}].concat((0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"TopicViewerEdge_topicViewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TopicViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isFollowing"}}]}}]))},Xt=t(61095),Qt=t(28959),Jt="post-view",$t="post-read",ei="topic-view",ni="medium-search",ti="external-search",ii=(jt={},(0,i.Z)(jt,Jt,200),(0,i.Z)(jt,$t,200),(0,i.Z)(jt,ei,200),(0,i.Z)(jt,ni,200),(0,i.Z)(jt,ti,200),jt),ai=(Ut={},(0,i.Z)(Ut,Jt,new Qt.Z("pv")),(0,i.Z)(Ut,$t,new Qt.Z("pr")),(0,i.Z)(Ut,ei,new Qt.Z("tv")),(0,i.Z)(Ut,ni,new Qt.Z("ms")),(0,i.Z)(Ut,ti,new Qt.Z("es")),Ut),oi=function(e,n,t){var i=ai[e];i.getCount()===ii[e]&&i.clean();try{i.set(n,t)}catch(e){i.clean()}},ri=t(25550),li=t(49608),di=t(58207),si=t(39202),ci={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostNoteMissingToastQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"privateNotes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}}]}}]},mi=t(35194),ui=t(66227),pi=t(73917);function ki(){return ki=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},ki.apply(this,arguments)}var vi=o.createElement("path",{fill:"#fff",d:"M0 0h49v57H0z"}),fi=o.createElement("path",{d:"M45.95 17.53v-.04l-.05-1.55a5.32 5.32 0 0 0-5.04-5.17c-5.8-.32-10.3-2.2-14.13-5.89l-.03-.03a3.26 3.26 0 0 0-4.4 0l-.03.03c-3.84 3.7-8.33 5.57-14.13 5.89-2.79.15-5 2.42-5.04 5.18l-.05 1.54v.1c-.11 5.84-.25 13.12 2.21 19.73 1.36 3.63 3.41 6.79 6.1 9.38 3.07 2.96 7.09 5.3 11.94 6.98a3.74 3.74 0 0 0 2.4 0c4.85-1.68 8.86-4.03 11.93-6.98 2.69-2.6 4.74-5.76 6.1-9.39 2.47-6.63 2.33-13.92 2.22-19.78zm-5 18.77c-2.6 6.96-7.9 11.74-16.23 14.62a.67.67 0 0 1-.45 0c-8.32-2.87-13.63-7.65-16.23-14.61-2.27-6.1-2.14-12.78-2.03-18.67v-.03c.03-.5.04-1.04.05-1.62.02-1.22 1-2.23 2.24-2.3 3.29-.18 6.17-.81 8.83-1.92 2.64-1.1 5-2.67 7.19-4.77.1-.1.25-.1.36 0a23.11 23.11 0 0 0 7.2 4.77 26.27 26.27 0 0 0 8.82 1.92 2.36 2.36 0 0 1 2.24 2.3c0 .58.02 1.12.05 1.62.11 5.9.24 12.59-2.04 18.69z",fill:"#757575"}),gi=o.createElement("path",{d:"M24.5 17.76c-7.11 0-12.9 5.4-12.9 12.04 0 6.64 5.79 12.04 12.9 12.04s12.9-5.4 12.9-12.04c0-6.64-5.79-12.04-12.9-12.04zm0 21.25c-5.44 0-9.86-4.13-9.86-9.2 0-5.08 4.42-9.21 9.86-9.21 5.44 0 9.86 4.13 9.86 9.2 0 5.08-4.42 9.2-9.86 9.2z",fill:"#757575"}),hi=o.createElement("path",{d:"M28.08 25.1l-5.64 6.12-1.53-1.66c-.56-.6-1.46-.6-2.02 0-.55.6-.55 1.59 0 2.2l2.54 2.75c.28.3.65.45 1.01.45.37 0 .73-.15 1.01-.45l6.65-7.22c.55-.6.55-1.59 0-2.2-.56-.6-1.47-.6-2.02 0z",fill:"#757575"});const Si=function(e){return o.createElement("svg",ki({width:49,height:57,viewBox:"0 0 49 57",fill:"none"},e),vi,fi,gi,hi)};var Ni=(0,Ge.$j)()((function(e){var n=e.dispatch,t=e.isVisible,i=e.hide,a="limitedStateInterstitialDialogPopover";return o.createElement(Qe.V,{isVisible:t,hide:i,withCloseButton:!1,customBackgroundColor:"rgba(255, 255, 255, 0.94)"},o.createElement(M.x,{display:"flex",justifyContent:"center",paddingTop:"100px"},o.createElement(M.x,{height:"550px",width:"900px",background:an.ix,borderRadius:"4px",display:"flex",flexDirection:"column",justifyContent:"center",textAlign:"center",boxShadow:"0 2px 10px ".concat((0,an.Uy)(.15)),paddingBottom:"14px",md:{width:"600px",height:"auto",padding:"14px 8px"},sm:{width:"95vw !important",padding:"14px 8px"}},o.createElement(M.x,{display:"flex",flexDirection:"column",justifyContent:"center",height:"100%"},o.createElement(M.x,{paddingBottom:"24px"},o.createElement(Si,null)),o.createElement(M.x,{paddingBottom:"24px",paddingRight:"24px",paddingLeft:"24px"},o.createElement(B.X6,{scale:"L"},"The following content was reported as a potential violation of Medium’s rules and is under investigation.")),o.createElement(M.x,{padding:"0 0 24px 0"},o.createElement(Xe.zx,{buttonStyle:"BRAND",size:"REGULAR",onClick:function(){i(),n((0,tn.Dx)({duration:"FOREVER",toastStyle:"LIMITED_STATE_BANNER"}))}},"I understand and want to proceed anyway"),o.createElement(ui.B,null,(function(e){var n=e.isVisible,t=e.toggle,i=e.hide;return o.createElement(pi.J,{ariaId:a,isVisible:n,hide:i,display:"block",customZIndex:800,popoverRenderFn:function(){return o.createElement(M.x,{padding:"15px 20px",width:"400px"},o.createElement(de.F,{scale:"S"},"Anyone can publish on Medium, provided the content adheres to Medium’s rules and policies. When Medium is made aware of potential violations, the content is manually evaluated and appropriate action taken. Some features may be disabled while the content is under review."))},placement:"top",targetDistance:15},o.createElement(M.x,{paddingTop:"10px"},o.createElement(le.r,{"aria-controls":a,"aria-expanded":n?"true":"false",onClick:t},o.createElement("u",null,o.createElement(de.F,{scale:"S"},"Why am I seeing this?")))))})))),o.createElement(M.x,{display:"flex",justifyContent:"center"},o.createElement(de.F,{scale:"M"},"View our"," ",o.createElement(le.r,{href:"https://medium.com/policy/medium-rules-30e5502c4eb4",linkStyle:"OBVIOUS",inline:!0},"Rules,")," ",o.createElement(le.r,{href:"https://medium.com/policy/medium-terms-of-service-9db0094a1e0f",linkStyle:"OBVIOUS",inline:!0},"Terms of Service")," ","&"," ",o.createElement(le.r,{href:"https://medium.com/policy/medium-partner-program-terms-fcfe9cf777b8",linkStyle:"OBVIOUS",inline:!0},"Partner Program Terms"))))))})),yi=function(e){return function(){return{filter:e?"blur(10px)":"blur(0)"}}};function bi(e){var n=e.post,t=n.creator,i=n.isLimitedState,a=e.children,r=(0,ze.H)().value,l=null==r?void 0:r.id,d=(0,wn.I)(),s=o.useState(!1),c=(0,We.Z)(s,2),m=c[0],u=c[1];return o.useEffect((function(){u(!0)}),[]),i&&(t&&t.id)!==l?o.createElement(ui.B,{initialVisibility:!0},(function(e){var n=e.isVisible,t=e.hide;return o.createElement(o.Fragment,null,o.createElement("div",{className:d(yi(n))},a),m&&o.createElement(Ni,{isVisible:n,hide:t}))})):a}var xi=t(66018),Fi=t(75412),Ei={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UserSocialLoginsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userSocialLogins"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userId"},value:{kind:"Variable",name:{kind:"Name",value:"userId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"UserSocialLogins_userSocialLogins"}}]}}]}}].concat((0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"UserSocialLogins_userSocialLogins"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserSocialLogins"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userId"}},{kind:"Field",name:{kind:"Name",value:"twitter"}},{kind:"Field",name:{kind:"Name",value:"facebook"}},{kind:"Field",name:{kind:"Name",value:"google"}},{kind:"Field",name:{kind:"Name",value:"redactedEmailAddress"}},{kind:"Field",name:{kind:"Name",value:"isMember"}},{kind:"Field",name:{kind:"Name",value:"emailAddress"}},{kind:"Field",name:{kind:"Name",value:"userAvatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"mediumMemberAt"}}]}}]}}]))};function wi(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Pi(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?wi(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wi(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var _i=function(e){var n=e.children,t=e.postRenderCallback,i=(0,bn.A)(),a=(0,I.hp)(),r=(0,p.PM)(),l=(0,I.P7)(r||""),d=l.userId,s=l.name,c=o.useState({shouldRun:!1,showSuggestedAccount:!1,userSocialLogins:{facebook:!1,google:!1,twitter:!1,redactedEmailAddress:"",emailAddress:"",userAvatar:{__typename:"UserAvatar",username:"",name:"",imageId:"",mediumMemberAt:0},userId:"",isMember:!1}}),m=(0,We.Z)(c,2),u=m[0],k=m[1];o.useEffect((function(){var e=u.shouldRun,n=u.showSuggestedAccount,i=u.userSocialLogins;e&&(null==t||t(v,n,i))}),[u.shouldRun]);var v=(0,ze.H)().value,f=!("email"!==s||v&&v.membership||!d);return f&&d?o.createElement(Fi.A,{query:Ei,variables:{userId:d}},(function(e){var o=e.loading,r=e.error,l=e.data,d=(l=void 0===l?{}:l).userSocialLogins,s=!(o||r||!d||v&&!d.isMember||!d.facebook&&!d.google&&!d.twitter&&!d.redactedEmailAddress),c=Pi({loading:o,showSuggestedAccount:s},s&&{userSocialLogins:d,declineSuggestedAccount:function(){var e=(0,In.S)(d);i.event("susi.suggestNotYou",{entryPoint:a,susiMethod:e})}});return!t||o||u.shouldRun||k({shouldRun:!0,showSuggestedAccount:s,userSocialLogins:d}),(null==n?void 0:n(c))||null})):(t&&!u.shouldRun&&k(Pi(Pi({},u),{},{shouldRun:!0})),(null==n?void 0:n({showSuggestedAccount:f,loading:!1}))||null)},Oi=t(93537),Ti=t(98223),Ii=function(){var e=(0,Ge.I0)(),n=(0,tn.w)(),t=(0,o.useState)("loading"),i=(0,We.Z)(t,2),a=i[0],r=i[1],l=(0,o.useCallback)((function(t,i,a){r(i?"rendered":"not_eligible"),i&&(e((0,Oi.T)(!0)),n({toastStyle:"ALTERNATE_USER",duration:"FOREVER",extraParams:{userSocialLogins:a}}))}),[n]);return(0,o.useEffect)((function(){e((0,Ti.e)(!0))}),[]),(0,o.useEffect)((function(){"not_eligible"===a&&e((0,Ti.e)(!1))}),[a]),o.createElement(_i,{postRenderCallback:l})},Ci=t(90484),Di=t(92137),Ri=t(87498);function Li(){Li=function(){return n};var e,n={},t=Object.prototype,i=t.hasOwnProperty,a=Object.defineProperty||function(e,n,t){e[n]=t.value},o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",d=o.toStringTag||"@@toStringTag";function s(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{s({},"")}catch(e){s=function(e,n,t){return e[n]=t}}function c(e,n,t,i){var o=n&&n.prototype instanceof g?n:g,r=Object.create(o.prototype),l=new T(i||[]);return a(r,"_invoke",{value:w(e,t,l)}),r}function m(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=c;var u="suspendedStart",p="suspendedYield",k="executing",v="completed",f={};function g(){}function h(){}function S(){}var N={};s(N,r,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(I([])));b&&b!==t&&i.call(b,r)&&(N=b);var x=S.prototype=g.prototype=Object.create(N);function F(e){["next","throw","return"].forEach((function(n){s(e,n,(function(e){return this._invoke(n,e)}))}))}function E(e,n){function t(a,o,r,l){var d=m(e[a],e,o);if("throw"!==d.type){var s=d.arg,c=s.value;return c&&"object"==(0,Ci.Z)(c)&&i.call(c,"__await")?n.resolve(c.__await).then((function(e){t("next",e,r,l)}),(function(e){t("throw",e,r,l)})):n.resolve(c).then((function(e){s.value=e,r(s)}),(function(e){return t("throw",e,r,l)}))}l(d.arg)}var o;a(this,"_invoke",{value:function(e,i){function a(){return new n((function(n,a){t(e,i,n,a)}))}return o=o?o.then(a,a):a()}})}function w(n,t,i){var a=u;return function(o,r){if(a===k)throw new Error("Generator is already running");if(a===v){if("throw"===o)throw r;return{value:e,done:!0}}for(i.method=o,i.arg=r;;){var l=i.delegate;if(l){var d=P(l,i);if(d){if(d===f)continue;return d}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(a===u)throw a=v,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a=k;var s=m(n,t,i);if("normal"===s.type){if(a=i.done?v:p,s.arg===f)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(a=v,i.method="throw",i.arg=s.arg)}}}function P(n,t){var i=t.method,a=n.iterator[i];if(a===e)return t.delegate=null,"throw"===i&&n.iterator.return&&(t.method="return",t.arg=e,P(n,t),"throw"===t.method)||"return"!==i&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+i+"' method")),f;var o=m(a,n.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var r=o.arg;return r?r.done?(t[n.resultName]=r.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,f):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function O(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function I(n){if(n||""===n){var t=n[r];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var a=-1,o=function t(){for(;++a<n.length;)if(i.call(n,a))return t.value=n[a],t.done=!1,t;return t.value=e,t.done=!0,t};return o.next=o}}throw new TypeError((0,Ci.Z)(n)+" is not iterable")}return h.prototype=S,a(x,"constructor",{value:S,configurable:!0}),a(S,"constructor",{value:h,configurable:!0}),h.displayName=s(S,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===h||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,s(e,d,"GeneratorFunction")),e.prototype=Object.create(x),e},n.awrap=function(e){return{__await:e}},F(E.prototype),s(E.prototype,l,(function(){return this})),n.AsyncIterator=E,n.async=function(e,t,i,a,o){void 0===o&&(o=Promise);var r=new E(c(e,t,i,a),o);return n.isGeneratorFunction(t)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},F(x),s(x,d,"Generator"),s(x,r,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var i in n)t.push(i);return t.reverse(),function e(){for(;t.length;){var i=t.pop();if(i in n)return e.value=i,e.done=!1,e}return e.done=!0,e}},n.values=I,T.prototype={constructor:T,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!n)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function a(i,a){return l.type="throw",l.arg=n,t.next=i,a&&(t.method="next",t.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],l=r.completion;if("root"===r.tryLoc)return a("end");if(r.tryLoc<=this.prev){var d=i.call(r,"catchLoc"),s=i.call(r,"finallyLoc");if(d&&s){if(this.prev<r.catchLoc)return a(r.catchLoc,!0);if(this.prev<r.finallyLoc)return a(r.finallyLoc)}else if(d){if(this.prev<r.catchLoc)return a(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return a(r.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc<=this.prev&&i.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=e,r.arg=n,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(r)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),f},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),O(t),f}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var i=t.completion;if("throw"===i.type){var a=i.arg;O(t)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(n,t,i){return this.delegate={iterator:I(n),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=e),f}},n}var Ai=t(68821),Mi=t(81037),Zi=t(25735),Bi=t(84509);var Vi=t(16941),ji=t(92661),Ui=t(44266),Wi=function(e){var n=e.list,t=(0,bn.A)(),i=(0,I.pK)(),a=(0,o.useCallback)((function(){t.event("list.presented",{listId:n.id,source:i})}),[n.id,i]),r=(0,Pn.g)({onPresentedFn:a});return o.createElement(W.P,{size:{xs:12,sm:12,md:6,lg:6,xl:6},ref:r},o.createElement(Ui.S,{catalog:n,titleMargin:"4px"}))},Hi=function(e){var n=e.lists,t=(0,V.F)();return o.createElement(o.Fragment,null,o.createElement(A.E,{marginBottom:"40px",borderColor:t.colorTokens.border.neutral.tertiary.base}),o.createElement(B.X6,{scale:"XS"},"Lists"),o.createElement(M.x,{marginTop:"32px"},o.createElement(I.cW,{extendSource:!0,source:{name:"read_next_recirc"}},o.createElement(H.T,{alignItems:"flex-start"},n.map((function(e){return o.createElement(Wi,{key:e.id,list:e})}))))),o.createElement(A.E,{marginTop:{xs:"16px",sm:"16px",md:"24px",lg:"24px",xl:"24px"},marginBottom:{xs:"32px",sm:"32px",md:"56px",lg:"56px",xl:"56px"},borderColor:t.colorTokens.border.neutral.tertiary.base}))},Gi=function(e){var n=e.recirc,t=e.postCatalogRecirc,i=(0,V.F)(),a=(0,ji.qt)("ShowHome",{}),r=null==n?void 0:n.items,l=null==t?void 0:t.catalogs;if(null==r||!r.length)return null;var d=z(r),s=d.slice(0,2),c=d.slice(2);return o.createElement(T.P,{size:"app"},o.createElement(M.x,{paddingTop:"88px",paddingBottom:"40px"},o.createElement(B.X6,{scale:{xs:"S",sm:"S",md:"M",lg:"M",xl:"M"}},"Recommended from Medium"),o.createElement(M.x,{marginTop:{xs:"40px",sm:"40px",md:"56px",lg:"56px",xl:"56px"}},o.createElement(K,{items:s,source:"read_next_recirc"})),null!=l&&l.length?o.createElement(Hi,{lists:l}):null,o.createElement(K,{items:c,source:"read_next_recirc"}),o.createElement(A.E,{marginBottom:{xs:"32px",sm:"32px",md:"24px",lg:"24px",xl:"24px"},borderColor:i.colorTokens.border.neutral.tertiary.base}),o.createElement(q.j,{href:a},"See more recommendations")))},zi=t(937),Yi=t(74419),Ki=t(80350),qi=t(75040),Xi=t(5422),Qi=t(47834),Ji=t(65968),$i=t(64238),ea=t(26700),na=t(31711),ta=t(92780),ia=t(68356),aa=t.n(ia),oa=t(50742),ra=aa()({loading:function(){return null},loader:function(){return t.e(9076).then(t.bind(t,26766))},modules:["./GiveTipButton"],webpack:function(){return[26766]},render:(0,oa.n)("GiveTipButton")}),la=function(e){var n=e.user,t=e.postId,i=(0,ze.H)().value,a=i&&i.id===n.id,r=(0,ji.H2)(),l=(0,Zi.V)({name:"can_send_tips_v0",placeholder:!1}),d="rgba(26, 137, 23, 1)"!==(0,V.F)().colorTokens.background.accent.primary.base,s=(0,v.Rk)(r("ShowSettingsTab",{setting:qi.B.Account}),{},Xi.el);return o.createElement(o.Fragment,null,a?o.createElement(Xe.zx,{buttonStyle:d?"STRONG":"BRAND",size:"SMALL",href:s},o.createElement(M.x,{whiteSpace:"nowrap"},"Edit profile")):o.createElement(I.cW,{source:{name:"publisher_header_actions"},extendSource:!0},o.createElement(M.x,{display:"flex"},o.createElement(na.N,{creator:n,followButtonSize:"REGULAR",susiEntry:"follow_profile",showMembershipUpsellModal:!0,width:"auto",buttonStyleFn:function(e){return function(e){return d?e?"OBVIOUS":"STRONG":e?"SUBTLE":"BRAND"}(e)}}),l&&o.createElement(ra,{creatorId:n.id,postId:t,buttonStyle:d?"STRONG":"BRAND"}))))},da=function(e){var n,t=e.user,i=e.collection,a=!(null===(n=i.editors)||void 0===n||!n.find((function(e){var n;return(null==e||null===(n=e.user)||void 0===n?void 0:n.id)===t.id}))),r=(0,ta.n)({name:"detail",scale:"M",color:"LIGHTER",clamp:1}),l=(0,wn.I)();return o.createElement("div",{className:l([r,{display:"flex",whiteSpace:"pre-wrap"}])},o.createElement(fe.O,{margin:"0 8px"}),o.createElement(M.x,{tag:"span",flexShrink:"0"},a?"Editor for ":"Writer for "),o.createElement(ea.q,{collection:i,clamp:1}))},sa=function(e){var n=e.user,t=e.postId,i=e.collection,a=(0,V.F)(),r=(0,L.B)(n),l=(0,$i.o)(n),d=(0,me.s)(),s=d===G.j.xs||d===G.j.sm,c=s?64:72,m=s?24:32;return o.createElement(T.P,{size:"app"},o.createElement(M.x,{marginBottom:"16px",display:"flex",justifyContent:"space-between",alignItems:"flex-end"},o.createElement(Qi.j,{author:n,collection:i,authorSize:c,collectionImageSize:m,collectionOffset:"-16px",borderColor:a.colorTokens.background.neutral.tertiary.base}),o.createElement(Z.y,{xs:!0,sm:!0},o.createElement(la,{user:n,postId:t}))),o.createElement(M.x,{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},o.createElement(M.x,null,o.createElement(M.x,{display:"flex",alignItems:"center"},o.createElement(le.r,{href:r,rules:{display:"flex",alignItems:"center"}},o.createElement(Yi.i,{prefix:"Written by ",publisher:n,scale:"M"})),l&&o.createElement(Ji.G,{marginLeft:"2px",marginTop:"1px",size:"M",userId:n.id,alignSelf:{xs:"flex-end",sm:void 0,md:void 0,lg:void 0,xl:void 0}})),o.createElement(M.x,{marginTop:"8px",display:"flex"},o.createElement(M.x,{flexShrink:"0"},o.createElement(Ki.e,{publisher:n,scale:"M",color:"DARKER",inline:!0,showWhenZero:!0})),i&&o.createElement(da,{user:n,collection:i})),o.createElement(M.x,{marginTop:"16px"},o.createElement(zi.y,{publisher:n,color:"DARKER"}))),o.createElement(Z.y,{md:!0,lg:!0,xl:!0},o.createElement(la,{user:n,postId:t}))),o.createElement(A.E,{marginTop:{xs:"32px",sm:"32px",md:"40px",lg:"40px",xl:"40px"},borderColor:a.colorTokens.border.neutral.tertiary.base}))},ca=t(40806),ma=t(70929),ua=t(10654),pa=t(90059),ka=t(84130),va={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MobileFooterPostActions_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVote_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuButtonWithNegativeSignal_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"AddToCatalogBookmarkButton_post"}}]}}].concat((0,N.Z)(ua.x.definitions),(0,N.Z)(pa.v.definitions),(0,N.Z)(ka.G.definitions))},fa={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MobileFooterPostActionsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MobileFooterPostActions_post"}}]}}]}}].concat((0,N.Z)(va.definitions))},ga=t(25011),ha=function(e){var n,t,i=e.post,r=e.isVisible,l=o.useContext(_t.f).openSidebar,d=(0,a.a)(fa,{variables:{postId:i.id},ssr:!1}),s=d.data,c=d.loading,m=d.error;return c?null:(t=m||null==s||!s.post?i:s.post,o.createElement(ga.p,{isVisible:r,multiVoteButton:o.createElement(Et.S,{post:t,buttonStyle:"SUBTLE_MARGIN",hasDialog:!0,shouldHideClapsText:!0,shouldShowResponsiveLabelText:!0,susiEntry:"clap_footer",buttonColor:"LIGHTER",countScale:"S"}),responsesButton:o.createElement(Pt.c,{responsesCountScale:"S",trackingData:{postId:t.id},responsesCount:(null===(n=t.postResponses)||void 0===n?void 0:n.count)||null,isLimitedState:t.isLimitedState,isPublished:t.isPublished,handleClick:l,countStylesOverride:{marginLeft:"4px"},allowResponses:t.allowResponses}),saveButton:o.createElement(ma.o,{kind:nn.ej.POST,target:t})}))},Sa=t(93661),Na=t(95729),ya=t(81253),ba=t(12722),xa=["title","includeStar","benefits","onClick","href","buttonText","post"],Fa=function(e){return{"> path":{fill:e.colorTokens.foreground.neutral.primary.base},marginRight:"8px",height:"16px",width:"16px"}},Ea=function(e){var n=e.title,t=e.includeStar,i=e.benefits,a=e.onClick,r=e.href,l=e.buttonText,d=e.post,s=(0,ya.Z)(e,xa),c=(0,wn.I)();return o.createElement(M.x,(0,He.Z)({borderRadius:"4px",backgroundColor:"BACKGROUND",border:"neutral.primary",padding:"24px",width:{xs:"100%",sm:"100%",md:"320px",lg:"320px",xl:"320px"}},s),o.createElement(M.x,{display:"flex",alignItems:"center"},t&&o.createElement(_n.Z,{className:c(Fa)}),o.createElement(B.X6,{scale:"XS"},n)),o.createElement(M.x,{marginTop:"16px",height:"1px",backgroundColor:"BASE_NORMAL"}),i.map((function(e,n){return o.createElement(M.x,{key:n,marginTop:"16px",display:"flex"},o.createElement(M.x,{marginRight:"12px"},o.createElement(ba.Z,null)),o.createElement(de.F,{scale:"M",color:"DARKER"},e))})),o.createElement(M.x,{marginTop:"24px",marginBottom:"16px",height:"1px",backgroundColor:"BASE_NORMAL"}),o.createElement(Hn.R,{operation:"register",susiEntry:"lo_non_moc_upsell",isButton:!0,buttonStyle:"BRAND",redirectTo:r,additionalClickActions:a,buttonWidth:"100%",post:d},l))},wa=t(66802),Pa={xs:"440px",sm:"440px",md:"1192px",lg:"1192px",xl:"1192px"},_a={height:{xs:"22px",sm:"22px",md:"32px",lg:"32px",xl:"32px"},marginBottom:{xs:"16px",sm:"16px",md:"32px",lg:"32px",xl:"32px"}},Oa={position:"absolute",bottom:"0",left:"0",zIndex:"-1"},Ta=["Distraction-free reading. No ads.","Organize your knowledge with lists and highlights.","Tell your story. Find your audience."],Ia=["Access the best member-only stories.","Support independent authors.","Listen to audio narrations.","Read offline.","Join the Partner Program and earn for your writing."],Ca=function(e){var n=e.onClick,t=e.post,i=(0,wn.I)(),a=(0,Sa.kr)({membershipType:Sa.FM.Monthly}),r=a.amount,l=a.currency,d=(0,ji.H2)();return o.createElement(M.x,{display:"flex",flexDirection:{xs:"column",sm:"column",md:"column",lg:"column",xl:void 0},alignItems:"center"},o.createElement(U.UV,{miroId:"5c50caa54067fd622d2f0fac18392213bf92f6e2fae89b691e62bceb40885e74",rules:Oa}),o.createElement(M.x,{marginRight:{xs:void 0,sm:void 0,md:void 0,lg:void 0,xl:"64px"},marginBottom:{xs:"24px",sm:"24px",md:"48px",lg:"48px",xl:void 0},textAlign:{xs:"center",sm:"center",md:"center",lg:"center",xl:void 0}},o.createElement(Na.Z,{className:i(_a)}),o.createElement($e.H2,{scale:{xs:"XS",sm:"XS",md:"S",lg:"S",xl:"S"},color:"DARKER"},"Sign up to discover human stories that deepen your understanding of the world.")),o.createElement(M.x,{display:"flex",flexDirection:{xs:"column",sm:"column",md:void 0,lg:void 0,xl:void 0},alignItems:"center"},o.createElement(Ea,{title:"Free",benefits:Ta,buttonText:"Sign up for free",onClick:n,post:t,marginBottom:{xs:"24px",sm:"24px",md:void 0,lg:void 0,xl:void 0},marginRight:{xs:void 0,sm:void 0,md:"40px",lg:"40px",xl:"32px"}}),o.createElement(Ea,{title:"Membership",includeStar:!0,benefits:Ia,buttonText:"Try for ".concat((0,wa.xG)({amount:r,currency:l,floatingDigits:[0,2]}),"/month"),onClick:n,href:d("ShowPay",{}),post:t})))},Da=t(5129),Ra=t(19374),La=function(e){return function(n){return{backgroundColor:n.colorTokens.background.neutral.tertiary.base,borderTop:"1px solid ".concat(n.colorTokens.border.neutral.secondary.base),position:"fixed",width:"100%",visibility:e?"visible":"hidden"}}},Aa=function(e){var n=e.hide,t=e.click,i=e.height,a=e.containerRef,r=e.post,l=e.isVisible,d=e.setIsVisible,s=(0,o.useRef)(0),c=(0,o.useRef)(0),m=(0,me.s)();return(0,o.useEffect)((function(){if(i>0&&!l&&d(!0),m&&m!==G.j.xl&&!(i<window.innerHeight/2)){var e=function(){var e=window.scrollY,n=i-window.innerHeight/2,t=i>window.innerHeight?n:Math.min(i/2,n),o=e<=0?0:Math.min(t,c.current+e-s.current);c.current=Math.max(0,o),s.current=e,a.current&&(a.current.style.removeProperty("bottom"),0===c.current?a.current.style.top="50vh":a.current.style.top="calc(50vh - ".concat(c.current,"px)"))};return e(),window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}a.current&&(a.current.style.removeProperty("top"),a.current.style.bottom="0")}),[i,m]),o.createElement(M.x,{maxWidth:Pa},o.createElement(Ra.L,{onClose:n,containerProps:{position:"absolute",top:"16px",right:"16px",padding:"0"}}),o.createElement(Ca,{onClick:t,post:r}))},Ma=function(e){var n=e.hide,t=e.click,i=e.post,a=(0,o.useState)(0),r=(0,We.Z)(a,2),l=r[0],d=r[1],s=(0,o.useState)(!1),c=(0,We.Z)(s,2),m=c[0],u=c[1];return o.createElement(Da.S,{height:l,setHeight:d,isVisible:!0,hideDirection:"down",containerRules:La(m),onHide:n,contentProps:{flexDirection:"column",padding:{xs:"32px 24px 28px",sm:"32px 24px 28px",md:"56px 24px 40px",lg:"56px 24px 40px",xl:"56px 24px 40px"},alignItems:"center"},hideOnEscapeKey:!0},(function(e){var n=e.hide,a=e.containerRef;return o.createElement(Aa,{height:l,hide:n,click:t,containerRef:a,post:i,isVisible:m,setIsVisible:u})}))},Za=t(68894),Ba=t(3013),Va=30*Ri.pU,ja=function(){return null},Ua=["9db0094a1e0f","f03bf92035c9"],Wa=t(18733),Ha=function(e){var n=e.post,t=e.postIsLocked,i=(0,me.s)(),a=i===G.j.xs||i===G.j.sm,l=function(e,n){var t,i=(0,k.v9)((function(e){return e.client.hydrated})),a=(0,bn.A)(),l=(0,ze.H)(),d=l.value,s=l.error,c=l.loading,m=!c&&!s&&!d,u=(0,Za.O)((0,Ba.V)((0,di.D4)(),Va)),p=(0,We.Z)(u,2),v=p[0],f=p[1],g=(0,o.useCallback)((function(){(0,di.Fv)(new Date),a.event("upsell.dismissed",{dimension:"post_footer_upsell"}),f()}),[a,f]),h=(0,o.useCallback)((function(){a.event("upsell.clicked",{dimension:"post_footer_upsell"})}),[a]),S=(0,r.TH)(),N=(0,ji.$B)(S.pathname),y="post"===(null==N||null===(t=N.route)||void 0===t?void 0:t.mediumAppPage);return!i||c?{isLoading:!0,isVisible:!1,hide:ja,click:ja}:Ua.includes(e)||n||!y||!m||!i||v?{isLoading:!1,isVisible:!1,hide:ja,click:ja}:{isLoading:!1,isVisible:!0,hide:g,click:h}}(n.id,t),d=l.isLoading,s=l.isVisible,c=l.hide,m=l.click,u=a&&!s&&!d;if(!u&&!s)return null;var p=u?Ve.y:0;return o.createElement(ca.o,{maxHeightToHideOnScroll:p,isUpsellVisible:s},(function(e){var t=e.isStuck;return o.createElement(o.Fragment,null,s&&o.createElement(I.cW,{extendSource:!0,source:{dimension:"post_footer_upsell",postId:n.id}},o.createElement(Wa.N8,null,o.createElement(Ma,{hide:c,click:m,post:n}))),u&&o.createElement(ha,{post:n,isVisible:t}))}))},Ga=function(e){var n=e.post,t=e.recirc,i=e.postCatalogRecirc,l=e.catalog,d=e.authorCollectionRecircFeed,s=e.postViewerEdgeLoading,c=(0,V.F)(),m=o.useRef(null),u=(0,ze.H)().value;!function(e){var n=(0,ze.H)(),t=n.value,i=n.loading,a=n.error,r=(0,Vi.F)("enable_custom_moc_preview_weight_threshold"),l=(0,Vi.F)("enable_custom_moc_preview_weight_threshold_li");(0,o.useEffect)((function(){i||a||e&&(t?l():r())}),[r,l,e,t,i,a])}(n.content.isLockedPreviewOnly);var v=n.isLocked,f=n.collection,g=n.creator,h=n.content.isLockedPreviewOnly,S=(0,at.D)({post:n,postBodyRef:m,postViewerEdgeLoading:s}),N=!!n.inResponseToEntityType,y=v?{className:"meteredContent"}:{},b=(f||{}).googleAnalyticsId;return(0,Be.t)({ids:b?[b]:null}),(0,Ai.V)(m,n),function(e,n,t){var i=(0,bn.A)(),a=(0,I.pK)(),r=(0,o.useState)(!1),l=(0,We.Z)(r,2),d=l[0],s=l[1],c=(0,Ge.I0)(),m=(0,Mi.k)(),u=function(){var e=(0,Mi.k)(),n=(0,Zi.V)({name:"enable_member_nps_survey",placeholder:!1}),t=(0,ze.H)(),i=t.loading,a=t.value;return(0,o.useCallback)((function(){n&&!i&&a&&e&&(a.membership&&(e.setLocalAttribute("membership.tier",a.membership.tier),e.setLocalAttribute("membership.memberSince",a.membership.memberSince),e.setLocalAttribute("membership.friendSince",a.membership.friendSince)),e.fireEvent("user.postClientRead"))}),[n,i,a,e])}();(0,o.useEffect)((function(){if(!d&&t){var o=function(){if(n.current&&!d){var o,r=(0,Bi.L6)(n.current),l=(0,Bi.tM)(r),p=l.top+l.height,k=(0,Bi.tM)((0,Bi.t_)()),v=k.top+k.height;if(!t.content.isLockedPreviewOnly&&v>=p-100&&a.includes("post_page")){s(!0),c((0,tn.C2)(!0));var f={source:a,postId:t.id,collectionSlug:t.collection?t.collection.slug:"",sequenceId:t.sequence?t.sequence.sequenceId:""};i.event("post.clientRead",f),m&&(m.setLocalAttribute("latest.post.clientRead.url",window.location.href),f.postId&&m.setLocalAttribute("latest.post.clientRead.postId",f.postId),f.source&&m.setLocalAttribute("latest.post.clientRead.source",f.source)),u(),e||(o=t.id,oi($t,o,Date.now()))}}};return en.V6.on("scroll_end",o),function(){en.V6.off("scroll_end",o)}}}),[d,t,m,u]),(0,o.useEffect)((function(){return function(){c((0,tn.C2)(!1))}}),[])}(!!u,m,n),function(e){var n=e.post,t=e.clientViewedContext,i=void 0===t?1:t,r=e.overrideCommonData,l=void 0===r?{}:r,d=e.postViewerEdgeLoading;(function(e){var n,t,i=e.post,o=(0,k.v9)((function(e){return e.config.authDomain})),r=null==i?void 0:i.id,l=(0,Xt.Pd)(null==i?void 0:i.creator),d=l.viewerEdge,s=l.loading,c=(0,Ye.g)(null==i?void 0:i.collection),m=c.viewerEdge,u=c.loading,p=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(0,a.a)(qt,{variables:{topicId:n},ssr:!1,skip:!n}),i=t.loading,o=t.error,r=t.data;return i?{loading:i}:o?{error:o}:{viewerEdge:null==r||null===(e=r.topic)||void 0===e?void 0:e.viewerEdge}}(null==i||null===(n=i.primaryTopic)||void 0===n?void 0:n.id),v=p.viewerEdge,f=p.loading,g=u||s||f;(0,Kt.e)({data:{canonicalUrl:r&&null!=i&&null!==(t=i.collection)&&void 0!==t&&t.domain?(0,C.o2)(o,r):void 0,creatorViewerEdge:d,collectionViewerEdge:m,post:i||void 0,topicViewerEdge:v},loading:!r||g||!(null!=i&&i.isPublished),show:!0})})({post:n}),function(e){var n=e.post,t=e.clientViewedContext,i=e.overrideCommonData,a=void 0===i?{}:i,r=e.postViewerEdgeLoading,l=(0,bn.A)(),d=(0,ri.r)(),s=d.loading,c=d.viewerId,m=c&&(0,li.Q)(c),u=(null==n?void 0:n.collection)||{},p=u.id,k=u.slug,v=((null==n?void 0:n.content)||{}).validatedShareKey,f=null==n?void 0:n.id;o.useEffect((function(){!s&&f&&c&&!r&&(null!=n&&n.isPublished?(m||(n.isLocked?(0,di.yB)():(0,di.B8)()),l.event("post.clientViewed",{postId:f,collectionId:p,collectionSlug:k,context:t,isFriendLink:!!v,source:"post_page",isTruncated:n.content.isLockedPreviewOnly,postShareKey:v},a)):l.event("post.draftViewed",{postId:f}),m||function(e){oi(Jt,e,Date.now())}(f))}),[f,c,s,r,v])}({post:n,clientViewedContext:i,overrideCommonData:l,postViewerEdgeLoading:d})}({post:n,postViewerEdgeLoading:s}),function(e){var n=(0,ze.H)().value,t=(0,nt.D)(tt,{variables:{postId:e.id}}),i=(0,We.Z)(t,2),a=i[0],r=i[1].called;o.useEffect((function(){e.isPublished||null==n||!n.id||r||a()}),[n])}(n),function(){var e=(0,tn.w)(),n=(0,o.useState)(!0),t=(0,We.Z)(n,2),i=t[0],a=t[1],r=(0,ze.H)().value,l=(0,k.p9)((function(e){return e.session.xsrf})),d=(0,p.PM)(),s=(0,I.P7)(d||"").name;(0,o.useEffect)((function(){function e(){return(e=(0,Di.Z)(Li().mark((function e(){var n;return Li().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,di.vA)(r.id,l);case 4:n=e.sent,a(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[null==r?void 0:r.id,l]),(0,o.useEffect)((function(){var n;null!=r&&null!==(n=r.viewerEdge)&&void 0!==n&&n.createdAt&&(new Date).getTime()-r.viewerEdge.createdAt>5*Ri.uD&&!i&&"login"===s&&(e({toastStyle:"SIGN_IN_CONFIRMATION",duration:"FOREVER"}),a(!0),(0,di.oy)(r.id,l))}),[r,i,e,s,l])}(),function(e){var n,t,i,l,d=function(){var e,n=(0,r.TH)().hash;if(n.startsWith("#id_token"))return{};var t=null==n||null===(e=n.replace("#",""))||void 0===e?void 0:e.split("-"),i=(0,We.Z)(t,2);return{activeGrafId:i[0],activeNoteId:i[1]}}(),s=d.activeGrafId,c=d.activeNoteId,m=(0,k.v9)((function(e){return e.navigation.referrer})),u=(0,p.G1)(),v=(0,p.PM)(),f=(0,a.a)(ci,{variables:{postId:null==e?void 0:e.id,postMeteringOptions:{referrer:m,sk:u,source:v}},ssr:!1,skip:!c}),g=f.loading,h=f.error,S=f.data,N=(null!=S?S:{}).post,y=null==N||null===(n=N.privateNotes)||void 0===n?void 0:n.find((function(e){return(null==e?void 0:e.id)===c})),b=null!==(t=null==N||null===(i=N.content)||void 0===i||null===(l=i.bodyModel)||void 0===l?void 0:l.paragraphs)&&void 0!==t?t:[],x=new Set(b.map((function(e){return e.name})).filter(si.bb)),F=!!y&&!!s&&x.has(s),E=!(g||h||!c||F),w=(0,Ge.I0)();(0,o.useEffect)((function(){E&&w((0,tn.Dx)({duration:"NEXTPAGE",message:"The note you're looking for was deleted."}))}),[E,w,tn.Dx])}(n),o.createElement(M.x,null,o.createElement(I.cW,{source:{dimension:"post_top_nav_upsell"}},o.createElement(fn.T,{isPostLocked:!!v})),o.createElement(mi.k,{post:n},o.createElement(Nt,{post:n}),o.createElement(Ii,null),o.createElement(xi.L,{post:n,user:g,forceLoad:(null==u?void 0:u.id)===(null==g?void 0:g.id)}),o.createElement(M.x,{marginBottom:{xs:"4px",sm:"4px",md:"68px",lg:"68px",xl:"68px"}},o.createElement(T.P,{size:"app"},N&&o.createElement(M.x,{marginTop:{xs:"32px",sm:"32px",md:"40px",lg:"40px",xl:"40px"},marginBottom:{xs:"32px",sm:"32px",md:"40px",lg:"40px",xl:"40px"}},o.createElement(it.h,{post:n}))),o.createElement("article",y,o.createElement(M.x,null,o.createElement(bi,{post:n},o.createElement(M.x,null,o.createElement(yt.b,{isAuroraPostPageEnabled:!0,post:n,ref:m,richTextStyle:"FULL_PAGE",postBodyInserts:S}))))),o.createElement(T.P,{size:"app"},o.createElement(et,{post:n}))),o.createElement(Ha,{post:n,postIsLocked:!!v}),!h&&o.createElement(Yt,{post:n}),o.createElement(Ue,{isDockingEnabled:!1,undockedBackgroundColor:"BACKGROUND",maxWidthSize:"app",marginBottom:{xs:"80px",sm:"80px",md:"88px",lg:"88px",xl:"88px"}},o.createElement(Ot,{post:n,socialPopoverPosition:"end"}))),"Catalog"===(null==l?void 0:l.__typename)&&o.createElement(xe,{currentPostId:n.id,catalog:l}),o.createElement(M.x,{backgroundColor:"BASE_LIGHT",paddingTop:{xs:"48px",sm:"48px",md:"72px",lg:"72px",xl:"72px"}},g&&o.createElement(o.Fragment,null,o.createElement(sa,{user:g,postId:n.id,collection:f}),o.createElement(X,{postId:n.id,authorCollectionRecircFeed:d,user:g,collection:f})),o.createElement(Gi,{recirc:t,postCatalogRecirc:i}),o.createElement(Z.y,{lg:!0,xl:!0},o.createElement(A.E,{marginTop:"72px",borderColor:c.colorTokens.border.neutral.tertiary.base}),o.createElement(T.P,{size:"app"},o.createElement(vn.q,{padding:"24px 0",spacing:"L",detailScale:"S"})))),o.createElement(kn,{post:n}))},za=t(82377),Ya=t(9970),Ka=t(57831),qa=t(1279),Xa=t(84492),Qa=t(84683),Ja={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostAuthorInfo_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"mediumMemberAt"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherName_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherFollowersCount_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PublisherDescription_publisher"}},{kind:"FragmentSpread",name:{kind:"Name",value:"FollowAndSubscribeButtons_user"}}]}}].concat((0,N.Z)(we.H.definitions),(0,N.Z)(Ya.g.definitions),(0,N.Z)(Ka.h.definitions),(0,N.Z)(qa.m.definitions),(0,N.Z)(Xa.i.definitions))},$a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostAuthorInfo_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"editors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionLinkWithPopover_collection"}}]}}].concat((0,N.Z)(Qa.d.definitions),(0,N.Z)(Pe.W.definitions))},eo=t(24176),no=t(55193),to=t(98007),io={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"RegWall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"lockedSource"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_post"}}]}}].concat((0,N.Z)(to.qU.definitions))},ao={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Wall_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isMarkedPaywallOnly"}},{kind:"FragmentSpread",name:{kind:"Name",value:"RegWall_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Paywall_post"}}]}}].concat((0,N.Z)(io.definitions),(0,N.Z)(Vn.definitions))},oo=t(36299),ro=t(28272),lo=t(31228),so=t(32934),co={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostJsonLd_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"logo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostJsonLd_logo"}}]}}]}}].concat((0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostJsonLd_logo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ImageMetadata"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}}]}}]))},mo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostJsonLd_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"seoTitle"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostJsonLd_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"updatedAt"}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"shortformType"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleForPost_post"}}]}}].concat((0,N.Z)(F.$m.definitions),(0,N.Z)(co.definitions),(0,N.Z)(so.bq.definitions))},uo=t(97849),po={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostMetadata_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"socialTitle"}},{kind:"Field",name:{kind:"Name",value:"socialDek"}},{kind:"Field",name:{kind:"Name",value:"noIndex"}},{kind:"Field",name:{kind:"Name",value:"canonicalUrl"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"metaDescription"}},{kind:"Field",name:{kind:"Name",value:"latestPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"twitterScreenName"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"twitterUsername"}},{kind:"Field",name:{kind:"Name",value:"facebookPageId"}}]}},{kind:"Field",name:{kind:"Name",value:"previewContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subtitle"}}]}},{kind:"Field",name:{kind:"Name",value:"previewImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"alt"}},{kind:"Field",name:{kind:"Name",value:"focusPercentX"}},{kind:"Field",name:{kind:"Name",value:"focusPercentY"}},{kind:"Field",name:{kind:"Name",value:"originalHeight"}},{kind:"Field",name:{kind:"Name",value:"originalWidth"}}]}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"noIndex"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostJsonLd_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"postMetaDescription_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shortformPostMetaDescription_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shouldIndexPost_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shortformPostTitle_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleDetails_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getTitleForPost_post"}}]}}].concat((0,N.Z)(F.$m.definitions),(0,N.Z)(mo.definitions),(0,N.Z)(uo.i.definitions),(0,N.Z)(uo.m.definitions),(0,N.Z)(so.HF.definitions),(0,N.Z)(so.Pz.definitions),(0,N.Z)(so.dm.definitions),(0,N.Z)(so.bq.definitions))},ko={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostFooterInfo_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"license"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterTags_post"}}]}}].concat((0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostFooterTags_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"tags"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayTitle"}},{kind:"Field",name:{kind:"Name",value:"normalizedTagSlug"}}]}}]}}]))},vo=t(22330),fo=t(78693),go=t(62549),ho=t(17828),So=t(8045),No=t(93403),yo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostByline_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserMentionTooltip_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UserFollowButton_user"}}]}}].concat((0,N.Z)(we.H.definitions),(0,N.Z)(F.$m.definitions),(0,N.Z)(Fe.O.definitions),(0,N.Z)(fo.s.definitions))},bo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostByline_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionLinkWithPopover_collection"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"DraftStatus_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"shouldShowPublishedInStatus_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostSharePopover_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuButtonWithNegativeSignal_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVote_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"BookmarkButton_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MaybeTextToSpeech_post"}}]}}].concat((0,N.Z)(Pe.W.definitions),(0,N.Z)(go.t.definitions),(0,N.Z)(ho.w.definitions),(0,N.Z)(So.G.definitions),(0,N.Z)(pa.v.definitions),(0,N.Z)(ua.x.definitions),(0,N.Z)(No.z.definitions),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"MaybeTextToSpeech_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"detectedLanguage"}},{kind:"Field",name:{kind:"Name",value:"wordCount"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}}]}}]))},xo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPageMeter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"FriendLinkMeter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MeterClickable_post"}}]}}].concat((0,N.Z)(P.definitions),(0,N.Z)(x.definitions))},Fo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodyInserts_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OverlappingAvatars_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OverlappingAvatars_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostByline_user"}}]}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isShortform"}},{kind:"Field",name:{kind:"Name",value:"readingTime"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}},{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodyInserts_paragraph"}}]}},{kind:"Field",name:{kind:"Name",value:"sections"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"startIndex"}}]}}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostByline_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useShouldShowPostPageMeter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPageMeter_post"}}]}}].concat((0,N.Z)(vo.RD.definitions),(0,N.Z)(vo.Ki.definitions),(0,N.Z)(yo.definitions),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostBodyInserts_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}},{kind:"Field",name:{kind:"Name",value:"type"}}]}}]),(0,N.Z)(bo.definitions),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"useShouldShowPostPageMeter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"lockedSource"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}},{kind:"Field",name:{kind:"Name",value:"validatedShareKey"}}]}}]}}]),(0,N.Z)(xo.definitions))},Eo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"usePostBranchView_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"domain"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"buildBranchViewData_post"}}]}}].concat((0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"buildBranchViewData_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"layerCake"}},{kind:"Field",name:{kind:"Name",value:"primaryTopic"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}}]}}]))},wo={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"usePostTracking_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"usePostClientViewedReporter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostBranchView_post"}}]}}].concat((0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"usePostClientViewedReporter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"validatedShareKey"}},{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}}]}}]),(0,N.Z)(Eo.definitions))},Po=t(56785),_o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostPageQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}},type:{kind:"NamedType",name:{kind:"Name",value:"PostMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postResult"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostResultError_postResult"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"googleAnalyticsId"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostAuthorInfo_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MoreFromAuthorAndMaybePub_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MastodonVerificationLink_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SuspendedBannerLoader_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostAuthorInfo_user"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MoreFromAuthorAndMaybePub_user"}}]}},{kind:"Field",name:{kind:"Name",value:"inResponseToEntityType"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"FragmentSpread",name:{kind:"Name",value:"Wall_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"InteractivePostBody_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"WithResponsesSidebar_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostCanonicalizer_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterActionsBar_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostReadTracker_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostMetadata_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SuspendedBannerLoader_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostFooterInfo_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBodyInserts_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNoteMissingToast_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostTracking_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToEntityPreview_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPublishedDialog_prerequisite_post"}}]}}]}}]}}].concat((0,N.Z)(za.i.definitions),(0,N.Z)($a.definitions),(0,N.Z)(te.definitions),(0,N.Z)(eo.G.definitions),(0,N.Z)(no.v.definitions),(0,N.Z)(Ja.definitions),(0,N.Z)(ne.definitions),(0,N.Z)(ao.definitions),(0,N.Z)(oo.Uw.definitions),(0,N.Z)(ro.y.definitions),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostCanonicalizer_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mediumUrl"}}]}}]),(0,N.Z)(lo.R.definitions),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostReadTracker_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sequenceId"}}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}}]}}]),(0,N.Z)(po.definitions),(0,N.Z)(no.Q.definitions),(0,N.Z)(ko.definitions),(0,N.Z)(Fo.definitions),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNoteMissingToast_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]),(0,N.Z)(wo.definitions),(0,N.Z)(Po.V.definitions),(0,N.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPublishedDialog_prerequisite_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]))},Oo=t(60600),To=function(){var e=(0,me.s)()||G.j.lg,n=e===G.j.xs||e===G.j.sm?2:3;return o.createElement(M.x,{height:"100vh"},o.createElement(M.x,{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"16px",width:"100%",marginTop:"48px"},o.createElement(M.x,{width:"80%",height:{xs:"40px",sm:"40px",md:"48px",lg:"48px",xl:"48px"},marginBottom:"24px",backgroundColor:"BASE_NORMAL"}),o.createElement(M.x,{display:"flex",marginBottom:{xs:"44px",sm:"44px",md:"52px",lg:"52px",xl:"52px"}},o.createElement(M.x,{height:"44px",width:"44px",backgroundColor:"BASE_NORMAL",borderRadius:"50%",marginRight:"12px"}),o.createElement(M.x,{margin:"auto 0"},o.createElement(M.x,{height:"16px",marginBottom:"4px",width:"120px",backgroundColor:"BASE_NORMAL"}),o.createElement(M.x,{height:"16px",width:"80px",backgroundColor:"BASE_NORMAL"}))),Array.from(Array(n)).map((function(e,n){return o.createElement(M.x,{key:n,width:"100%",marginBottom:{xs:"32px",sm:"32px",md:"48px",lg:"48px",xl:"48px"}},o.createElement(M.x,{width:"96%",height:"24px",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),o.createElement(M.x,{width:"98%",height:"24px",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),o.createElement(M.x,{width:"100%",height:"24px",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),o.createElement(M.x,{width:"98%",height:"24px",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),o.createElement(M.x,{width:"81%",height:"24px",backgroundColor:"BASE_NORMAL"}))}))))},Io=function(){return o.createElement(Oo.f,{itemPlaceholder:To,numPlaceholders:1})};function Co(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Do(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Co(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Co(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Ro=function(e){var n,t,i,r,l,d,s=(0,C.mr)({params:e})||"",c=(0,k.v9)((function(e){return e.client.viewerIsBot})),m=(0,a.a)(_o,{variables:{postId:s,postMeteringOptions:{}},skip:!s}),u=(0,a.a)(Me,{variables:{postId:s},skip:!s,ssr:c}),v=(0,a.a)(Ze,{variables:{postId:s},skip:!s,ssr:c}),f=(0,p.PM)(),g=(0,o.useMemo)((function(){return(0,I.P7)(null!=f?f:"")}),[f]).catalogId,h=(0,a.a)(ie,{variables:{input:{postId:s,paging:{limit:4}}},skip:!s,ssr:c}),S=(0,a.a)(De,{variables:{catalogId:null!=g?g:"",limit:11},skip:!s||!g,ssr:c}),N=null===(n=m.data)||void 0===n?void 0:n.postResult,y="Post"===(null==N?void 0:N.__typename)&&!(null==N||null===(t=N.content)||void 0===t||!t.isLockedPreviewOnly),b=O(s,y),x=b.content,F=!!b.loading,E=N&&x?Do(Do({},N),{},{content:x}):N,w=null===(i=u.data)||void 0===i?void 0:i.recirc,P=null===(r=v.data)||void 0===r?void 0:r.postCatalogRecirc,_=null===(l=h.data)||void 0===l?void 0:l.authorCollectionRecircFeed,T=null===(d=S.data)||void 0===d?void 0:d.catalogById;return o.useMemo((function(){return{loading:m.loading||F,postQueryResult:m,postResult:E,postViewerEdgeLoading:F,recirc:w,postCatalogRecirc:P,catalog:T,authorCollectionRecircFeed:_}}),[m,E,w,T,P,F,_])},Lo=o.memo((function(e){var n=e.postQueryResult,t=e.postResult,i=e.recirc,a=e.postCatalogRecirc,m=e.authorCollectionRecircFeed,u=e.catalog,p=e.params,k=e.postViewerEdgeLoading,v=(0,C.mr)({params:p})||"",f=n.loading,g=n.error,h=(0,r.TH)(),N=o.useMemo((function(){return{name:"post_page",postId:v}}),[v]);return v?f?o.createElement(T.P,{size:"inset"},o.createElement(Io,null)):g?o.createElement(l.C,{error:g}):(0,c.r)(t)?o.createElement(c.I,{postResult:t}):o.createElement(S,{post:t,matchedPath:h.pathname,key:v},o.createElement(I.cW,{source:N},t.creator&&o.createElement(s.$,{user:t.creator}),o.createElement(Ga,{post:t,recirc:i,postCatalogRecirc:a,postViewerEdgeLoading:k,authorCollectionRecircFeed:m,catalog:u}))):o.createElement(d.$,null)}))},25011:(e,n,t)=>{"use strict";t.d(n,{p:()=>c});var i=t(22122),a=t(67294),o=t(77355),r=t(14646),l=t(93513),d=function(e){var n=(0,i.Z)({},e);return a.createElement(o.x,(0,i.Z)({display:"flex",flexBasis:"0",flexGrow:"1",flexShrink:"1",justifyContent:"center",alignItems:"center"},n))},s=function(e){return function(n){return{width:"100%",justifyContent:"stretch",display:"flex",backgroundColor:n.backgroundColor,alignItems:"center",height:"".concat(l.y,"px"),borderTop:"solid 1px ".concat(n.colorTokens.border.neutral.primary.base),opacity:e?1:0,visibility:e?"visibile":"hidden"}}},c=(0,a.memo)((function(e){var n=e.multiVoteButton,t=e.responsesButton,i=e.saveButton,o=e.isVisible,l=void 0===o||o,c=(0,r.I)();return a.createElement("div",{className:c(s(l))},a.createElement(d,null,n),a.createElement(d,null,t),i&&a.createElement(d,null,i))}))},40806:(e,n,t)=>{"use strict";t.d(n,{o:()=>s});var i=t(34699),a=t(67294),o=t(6280),r=t(14646),l=t(77241),d=function(e,n){return{position:"sticky",zIndex:n?l.ZP.metabarProgress:l.ZP.selectionMenu,bottom:"0","> *":{transform:"translateY(".concat(e,"px)")}}},s=function(e){var n=e.children,t=e.maxHeightToHideOnScroll,l=e.isUpsellVisible,s=(0,r.I)(),c=(0,a.useRef)(),m=(0,a.useState)(0),u=(0,i.Z)(m,2),p=u[0],k=u[1],v=(0,a.useCallback)((function(e){k((function(n){return Math.max(Math.min(n+e,t),0)}))}),[t]),f=(0,a.useCallback)((function(){var e,n=null===(e=N.current)||void 0===e?void 0:e.getBoundingClientRect().y;window.scrollY>0&&c.current&&n&&v(c.current-n),c.current=n}),[v]),g=t>0,h=(0,o.$)(g,f),S=h.dockRef,N=h.markerRef,y=h.isStuck;return a.createElement(a.Fragment,null,a.createElement("div",{ref:N}),a.createElement("div",{ref:S,className:s(d(p,l))},"function"==typeof n?n({isStuck:y}):n))}},93513:(e,n,t)=>{"use strict";t.d(n,{T:()=>i,y:()=>a});var i=52,a=48},6280:(e,n,t)=>{"use strict";t.d(n,{$:()=>r});var i=t(34699),a=t(67294),o=t(34135),r=function(e,n){var t=(0,a.useRef)(null),r=(0,a.useRef)(null),l=(0,a.useState)(!0),d=(0,i.Z)(l,2),s=d[0],c=d[1];return(0,a.useEffect)((function(){var i=function(){var e,i,a=null===(e=t.current)||void 0===e?void 0:e.getBoundingClientRect().y,o=null===(i=r.current)||void 0===i?void 0:i.getBoundingClientRect().y;a&&o&&c(Boolean(o-a)),null==n||n()};if(i(),e)return o.V6.on("scroll",i),function(){o.V6.off("scroll",i)}}),[e]),{isStuck:e&&s,dockRef:t,markerRef:r}}},24176:(e,n,t)=>{"use strict";t.d(n,{G:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MastodonVerificationLink_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"linkedAccounts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mastodon"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"username"}}]}}]}}]}}]}},90732:(e,n,t)=>{"use strict";t.d(n,{$:()=>o});var i=t(67294),a=t(77355),o=function(e){var n,t,o,r,l=e.user,d=null===(n=l.linkedAccounts)||void 0===n||null===(t=n.mastodon)||void 0===t?void 0:t.domain,s=null===(o=l.linkedAccounts)||void 0===o||null===(r=o.mastodon)||void 0===r?void 0:r.username;return d&&s?i.createElement(a.x,{display:"none"},i.createElement("a",{rel:"me",href:"https://".concat(d,"/@").concat(s)},"Mastodon")):null}},1279:(e,n,t)=>{"use strict";t.d(n,{m:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PublisherDescription_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"description"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bio"}}]}}]}}]}},937:(e,n,t)=>{"use strict";t.d(n,{y:()=>l});var i=t(67294),a=t(14294),o=t(38882),r=t(87691),l=function(e){var n=e.publisher,t=e.color,l="Collection"===n.__typename?n.description:n.bio;return l?i.createElement(r.F,{scale:"M",color:t},i.createElement(o.c.Provider,{value:!0},i.createElement(a.P,{wrapLinks:!0},l))):null}},74419:(e,n,t)=>{"use strict";t.d(n,{i:()=>r});var i=t(67294),a=t(20113),o=t(14646),r=function(e){var n=e.publisher,t=e.scale,r=void 0===t?"XS":t,l=e.prefix,d=(0,o.I)();return n.name?i.createElement(a.X6,{playwrightClassName:"pw-author-name",scale:r},i.createElement("span",{className:d({wordBreak:"break-word"})},l,n.name)):null}},80350:(e,n,t)=>{"use strict";t.d(n,{t:()=>s,e:()=>c});var i=t(67294),a=t(68427),o=t(84739),r=t(93310),l=t(87691),d=t(21372),s=function(e){var n,t,i=null!==(n="Collection"===e.__typename?e.subscriberCount:null===(t=e.socialStats)||void 0===t?void 0:t.followerCount)&&void 0!==n?n:0;return{followerCount:i,isFollowerCountVisible:i>0}},c=function(e){var n=e.disableLink,t=void 0!==n&&n,c=e.scale,m=void 0===c?"L":c,u=e.publisher,p=e.color,k=e.linkStyle,v=void 0===k?"SUBTLE":k,f=e.inline,g=e.showWhenZero,h=(0,a.B)(),S=(0,o.I)(),N=s(u),y=N.followerCount,b=N.isFollowerCountVisible;if(!g&&!b)return null;var x="".concat((0,d.pY)(y)," Follower").concat(1===y?"":"s");return i.createElement(l.F,{playwrightClassName:"pw-follower-count",tag:"span",scale:m,color:p},y>0&&!t?i.createElement(r.r,{href:"".concat("Collection"===u.__typename?h(u):S(u),"/followers"),linkStyle:v,inline:f},x):x)}},86106:(e,n,t)=>{"use strict";t.d(n,{H:()=>k,C:()=>f});var i=t(22122),a=t(67294),o=t(93310),r=t(92780),l=t(66411),d=t(14646),s=t(42498),c={S:"2px 8px",M:"8px 16px"},m=function(){return{whiteSpace:"nowrap"}},u=function(){return{marginRight:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"8px",border:"none",padding:"0",cursor:"pointer"}},p=function(e){return function(){return{padding:"".concat(c[e]),position:"relative"}}},k=function(e){return function(n){return{backgroundColor:"".concat(n.colorTokens.background.neutral.secondary.base),borderRadius:"100px",border:"1px solid ".concat(e?n.colorTokens.border.neutral.secondary.base:n.colorTokens.border.neutral.primary.base),transition:"background 300ms ease",":hover":{backgroundColor:"".concat(n.colorTokens.background.neutral.secondary.base)}}}},v=function(e){if(e)return{overflow:"hidden",textOverflow:"ellipsis"}},f=(0,a.forwardRef)((function(e,n){var t=e.topic,c=e.scale,f=void 0===c?"M":c,g=e.color,h=void 0===g?"DARKER":g,S=e.onClick,N=e.shouldTruncate,y=void 0!==N&&N,b=e.source,x=e.href,F=e.innerRef,E=e.includeBorder,w=e.marginRight,P=(0,d.I)(),_=(0,r.n)({name:"detail",scale:f,color:h}),O="Topic"===t.__typename?(0,s.fl)(t.name||""):(0,s.fl)(t.displayTitle||"");return a.createElement(l.cW,{source:b,extendSource:!0},a.createElement(o.r,(0,i.Z)({href:x},y&&{className:P({width:"100%"})},"M"===f&&{className:P(u(w))},{onClick:S,"aria-current":E?"page":void 0,ref:n}),a.createElement("div",{className:P([p(f),k(E),_,m,v(y)]),ref:F},O)))}))},17235:(e,n,t)=>{"use strict";t.d(n,{P:()=>d});var i=t(67294),a=t(57326),o=t(43487),r=t(50458),l=t(86106),d=(0,i.forwardRef)((function(e,n){var t=e.topic,d=e.scale,s=e.color,c=e.index,m=e.onClick,u=e.shouldTruncate,p=e.includeBorder,k=e.marginRight,v=(0,o.v9)((function(e){return e.config.authDomain})),f=(0,o.v9)((function(e){return e.config.topicToTagMappings})),g=function(e,n){return"Topic"===e.__typename?n[e.slug]?n[e.slug]:e.slug:e.id||""}(t,f),h=t.id||void 0,S=g?(0,r.Ih)(g,v):"#",N=(0,a.S)({index:c,tagSlug:g}),y=N.containerRef,b=N.handleClick,x=i.useCallback((function(){null==m||m(t.id),b()}),[t.id,m,b]);return i.createElement(l.C,{topic:t,source:{topicId:h,index:c},href:S,scale:d,color:s,shouldTruncate:u,onClick:x,innerRef:y,includeBorder:p,marginRight:k,ref:n})}))},57326:(e,n,t)=>{"use strict";t.d(n,{S:()=>u});var i=t(96156),a=t(67294),o=t(18627),r=t(66411),l=t(18122),d=t(77280),s=t(43487);function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var u=function(e){var n=e.index,t=e.tagSlug,i=(0,o.A)(),c=(0,r.Lk)(),u=(0,d.PM)(),p=(0,s.v9)((function(e){return e.navigation.referrer})),k=(0,s.v9)((function(e){return e.navigation.currentLocation})),v=(0,r.f0)(m(m({},c),{},{index:n,topicId:t})),f={referrer:p||k,referrerSource:u},g=a.useCallback((function(){i.event("tag.clicked",{tagSlug:t},m(m({},f),{},{source:v}))}),[t,i,v,u,f]);return{containerRef:(0,l.g)({onPresentedFn:function(){i.event("tag.presented",{tagSlug:t,source:v},f)}}),handleClick:g}}},22330:(e,n,t)=>{"use strict";t.d(n,{RD:()=>o,Ki:()=>r,lt:()=>l});var i=t(87329),a=t(68216),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverlappingAvatars_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatar"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}}]},r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverlappingAvatars_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"imageId"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}}].concat((0,i.Z)(a.$m.definitions))},l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OverlappingAvatars_newsletterV3"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NewsletterV3"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"avatarImageId"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OverlappingAvatars_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OverlappingAvatars_user"}}]}}]}}].concat((0,i.Z)(o.definitions),(0,i.Z)(r.definitions))}},20512:(e,n,t)=>{"use strict";t.d(n,{Y4:()=>r,NJ:()=>l,lc:()=>d});var i=t(96156),a=t(46696);function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function r(e){var n=e.miroId,t=e.originalWidth,i=e.originalHeight,o=e.focusPercentX,r=e.focusPercentY,l=e.croppedWidth;if(!n)return null;var d=(0,a.vz)({miroId:n,aspectRatio:16/9,croppedWidth:l,originalWidth:t,originalHeight:i,focusPercentX:o,focusPercentY:r}),s=(0,a.vz)({miroId:n,aspectRatio:4/3,croppedWidth:l,originalWidth:t,originalHeight:i,focusPercentX:o,focusPercentY:r}),c=(0,a.vz)({miroId:n,aspectRatio:1,croppedWidth:l,originalWidth:t,originalHeight:i,focusPercentX:o,focusPercentY:r}),m=new Set([d,s,c]);return Array.from(m)}function l(e){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({"@type":"ImageObject"},e)}function d(e){var n=e.id,t=e.originalWidth,i=e.originalHeight;if(!n||!t||!i)return null;var o=Math.min(i,60),r=o/i,d=Math.floor(t*r);return l({width:d,height:o,url:(0,a.W6)({miroId:n,width:d,freezeGifs:!0,strategy:a._S.Resample})})}},41135:(e,n,t)=>{"use strict";t.d(n,{b:()=>_});var i=t(96156),a=t(67294),o=t(33380),r=t(87329),l=t(38883),d=t(94124),s=t(96370),c=t(14646),m=t(75221),u=t(32342);function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function k(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var v={clear:"both"},f={clear:"both",width:"100%"},g=function(e){var n,t,i=e.layoutGroup,o=e.postBodyInserts,r=(0,c.I)(),m=i.styleGroups[0].paragraphViewModels[0].richTextStyle,p=i.styleGroups.map((function(e,n){var t=n<3;return a.createElement(l.ZQ,{key:n,styleGroup:e,postBodyInserts:o,loading:t?d.K.EAGER:d.K.LAZY})}));if((0,u.jH)(m)||"INLINE"===m)return a.createElement(a.Fragment,null,p);switch(i.effectiveLayout){case"OUTSET_CENTER":case"OUTSET_ROW":return a.createElement("div",{className:r(v)},a.createElement(s.P,{size:{xs:"full",sm:"full",md:"full",lg:"outset",xl:"outset"}},p));case"FULL_WIDTH":return a.createElement("div",{className:r(f)},p);default:return"FULL_PAGE"===m?a.createElement(s.P,{size:"app"},p):a.createElement("div",{className:r((n=i.effectiveLayout,t={boxSizing:"border-box",margin:"0 auto",width:"100%"},"INSET_CENTER"===n?k(k({},t),{},{maxWidth:"700px",padding:"0 1.25em"}):t))},p)}},h=a.memo(g),S=t(98096),N=t(31889),y={":after":{display:"block",content:'""',clear:"both"}},b=t(46696),x=t(3207);function F(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function E(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?F(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var w=function(){return{display:"table-cell",paddingBottom:"32px",verticalAlign:"bottom"}};function P(e){var n,t,i,r,l=e.bgImage,d=e.children,s=e.isFullPage,m=e.paragraphName,u=(0,c.I)(),p=(0,N.F)();return l&&l.id&&s?a.createElement(o.TA,{name:m,type:"bgimage"},a.createElement("div",{className:u((n=l,t=n.id,i=n.originalWidth,r=n.originalHeight,function(){var e=[400,600,800,1e3,1200,1400,1600,1800,2e3],n={miroId:t,strategy:b._S.Resample,verticalGradient:{start:29,end:81,opacity:40}},a=e.reduce((function(t,a,o){var l=(0,b.W6)(E(E({},n),{},{width:a,height:a/i*r}));return o===e.length-1?(t.backgroundImage="url(".concat(l,")"),t):(t["@media (min-width: ".concat(a,"px)")]={backgroundImage:"url(".concat(l,")")},t)}),{});return E({backgroundColor:"rgba(0, 0, 0, 0.9)",backgroundPosition:"50% 50%",backgroundSize:"cover",display:"table",minHeight:"100vh",width:"100%"},a)}))},a.createElement("div",{className:u(w)},a.createElement(S.f,{theme:(0,x.GV)(p)},d)))):d}var _=function(e){var n=e.paragraphViewModels,t=e.postBodyInserts,i=e.section,o=(0,c.I)();if(0===n.length)return null;var d=function(e){var n=[],t=[];e.forEach((function(e){var i=function(e,n){switch(n){case m.ms.INSET_LEFT:case m.ms.OUTSET_LEFT:return"IMG"===e||"IFRAME"===e?m.ms.INSET_CENTER:n;case m.ms.OUTSET_ROW_CONTINUE:return m.ms.OUTSET_ROW;default:return n||m.ms.INSET_CENTER}}(e.paragraphStyle,e.paragraph.layout),a=n[n.length-1];if(a&&a.effectiveLayout===i)t.push(e);else{if(a){var o,d=(0,l.lD)(t);(o=a.styleGroups).push.apply(o,(0,r.Z)(d))}t.length=0,t.push(e),n.push({styleGroups:[],effectiveLayout:i})}}));var i=n[n.length-1];if(i){var a,o=(0,l.lD)(t);(a=i.styleGroups).push.apply(a,(0,r.Z)(o))}return n}(n),s=function(e){switch(e){case"SERIES":return{paddingTop:"32px",paddingBottom:"32px",margin:"auto 0",width:"100%"};case"STREAM":case"CARD":case"FULL_PAGE":case"INLINE":return{wordBreak:"break-word",wordWrap:"break-word"};default:return{}}}(n[0].richTextStyle);return a.createElement("div",{className:o([s,y])},a.createElement(P,{bgImage:i.backgroundImage,isFullPage:"FULL_PAGE"===n[0].richTextStyle,paragraphName:n[0].paragraph.name},d.map((function(e,n){return a.createElement(h,{key:n,layoutGroup:e,postBodyInserts:t})}))))}},36299:(e,n,t)=>{"use strict";t.d(n,{J8:()=>u,Uw:()=>c,mW:()=>s});var i=t(87329),a=t(94078),o=t(79987),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"HighlighSegmentContext_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ParagraphRefsMapContext_paragraph"}}]}}].concat((0,i.Z)(o.p.definitions))},l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ActiveSelectionContext_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SelectionMenu_highlight"}}]}}].concat((0,i.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"SelectionMenu_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"userId"}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]))},d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ActiveSelectionContext_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SelectionMenu_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNewNoteCard_post"}}]}}].concat((0,i.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"SelectionMenu_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"latestPublishedVersion"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"allowNotes"}}]}}]}}]),(0,i.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNewNoteCard_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"latestPublishedVersion"}}]}}]))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"InteractivePostBody_postPreview"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extendedPreviewContent"},arguments:[{kind:"Argument",name:{kind:"Name",value:"truncationConfig"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"previewParagraphsWordCountThreshold"},value:{kind:"IntValue",value:"400"}},{kind:"ObjectField",name:{kind:"Name",value:"minimumWordLengthForTruncation"},value:{kind:"IntValue",value:"150"}},{kind:"ObjectField",name:{kind:"Name",value:"truncateAtEndOfSentence"},value:{kind:"BooleanValue",value:!0}},{kind:"ObjectField",name:{kind:"Name",value:"showFullImageCaptions"},value:{kind:"BooleanValue",value:!0}},{kind:"ObjectField",name:{kind:"Name",value:"shortformPreviewParagraphsWordCountThreshold"},value:{kind:"IntValue",value:"30"}},{kind:"ObjectField",name:{kind:"Name",value:"shortformMinimumWordLengthForTruncation"},value:{kind:"IntValue",value:"30"}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_bodyModel"}}]}},{kind:"Field",name:{kind:"Name",value:"isFullContent"}}]}}]}}].concat((0,i.Z)(a.Pk.definitions))},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"InteractivePostBody_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}},{kind:"Field",name:{kind:"Name",value:"bodyModel"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_bodyModel"}},{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"HighlighSegmentContext_paragraph"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NormalizeHighlights_paragraph"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"allowNotes"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_creator"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ActiveSelectionContext_post"}}]}}].concat((0,i.Z)(a.Pk.definitions),(0,i.Z)(r.definitions),(0,i.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"NormalizeHighlights_paragraph"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Paragraph"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]),(0,i.Z)(a.v.definitions),(0,i.Z)(d.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"InteractivePostBody_quote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ActiveSelectionContext_highlight"}},{kind:"FragmentSpread",name:{kind:"Name",value:"HighlighSegmentContext_highlight"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NormalizeHighlights_highlight"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_highlight"}}]}}].concat((0,i.Z)(l.definitions),(0,i.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"HighlighSegmentContext_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"endOffset"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"startOffset"}},{kind:"Field",name:{kind:"Name",value:"userId"}}]}}]),(0,i.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"NormalizeHighlights_highlight"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Quote"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"endOffset"}},{kind:"Field",name:{kind:"Name",value:"startOffset"}},{kind:"Field",name:{kind:"Name",value:"paragraphs"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"text"}}]}}]}}]),(0,i.Z)(a.XV.definitions))},u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"InteractivePostBodyQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"showNotes"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"highlights"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"InteractivePostBody_quote"}}]}},{kind:"Field",name:{kind:"Name",value:"privateNotes"},directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"showNotes"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostBody_privateNote"}}]}}]}}]}}].concat((0,i.Z)(m.definitions),(0,i.Z)(a.w6.definitions))}},7834:(e,n,t)=>{"use strict";t.d(n,{b:()=>y});var i=t(22122),a=t(34699),o=t(38460),r=t(67294),l=t(38882),d=t(75119),s=t(58730),c=t(10374),m=t(90504),u=t(83363),p=t(96156),k=t(39202);function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){(0,p.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function g(e,n,t){if(!e||"number"!=typeof n||"number"!=typeof t)return null;var i=n,a=t;return e.substr(i,a-i)}var h=t(6443),S=t(6402),N=t(36299),y=r.forwardRef((function(e,n){var t,p,v,y=e.isAuroraPostPageEnabled,b=e.post,x=e.inlinePost,F=e.postBodyInserts,E=e.richTextStyle,w=e.markedUpBodyModel,P=e.shouldHideHighlightAnnotations,_=(0,h.H)().value,O=x&&!b?w||(null==x||null===(t=x.extendedPreviewContent)||void 0===t?void 0:t.bodyModel):null==b||null===(p=b.content)||void 0===p?void 0:p.bodyModel,T={creator:null==b?void 0:b.creator,isAuroraPostPageEnabled:y,postBodyInserts:F,ref:n,richTextStyle:E||"FULL_PAGE",postId:(null==b?void 0:b.id)||""},I=b&&b.creator&&b.creator.allowNotes||!1,C=(0,o.t)(N.J8,{ssr:!1,variables:{postId:(null==b?void 0:b.id)||"",showNotes:I},notifyOnNetworkStatusChange:!0}),D=(0,a.Z)(C,2),R=D[0],L=D[1],A=L.called,M=L.data,Z=null==M?void 0:M.post;if(r.useEffect((function(){b&&!A&&R()}),[b]),!O)return S.k.error("Expected post to have content or preview content."),null;var B=(null==b||null===(v=b.content)||void 0===v?void 0:v.bodyModel)&&(null==b?void 0:b.content.bodyModel.paragraphs)||[],V=function(e,n){return e&&n?e.map((function(e){var t=e.endOffset,i=e.startOffset,a=e.paragraphs&&e.paragraphs[0],o=function(e,n){return e?n.find((function(n){var t=n.name;return e===t})):null}(a.name,n);if(!a||!o)return null;var r=g(a.text,i,t),l=g(o.text,i,t);if(!r||!l)return null;if(r===l)return e;var d=o.text?o.text.indexOf(r):null;if("number"!=typeof d||d<0)return null;var s=d+r.length;return f(f({},e),{},{endOffset:s,startOffset:d})})).filter(k.bb):e}(Z&&Z.highlights||[],B),j=Z&&Z.privateNotes||null;return r.createElement(c.yb,null,r.createElement(d.K,null,r.createElement(s.M,{interactivePost:b,highlights:V,disableSelection:!b},r.createElement(u.U,{highlights:V,paragraphs:B,viewer:_},r.createElement(l.c.Provider,{value:!0},r.createElement(m.y,(0,i.Z)({},T,{bodyModel:O,highlights:V,privateNotes:j,shouldHideHighlightAnnotations:P})))))))}))},90504:(e,n,t)=>{"use strict";t.d(n,{y:()=>K});var i=t(22122),a=t(87329),o=t(67294),r=t(33380),l=t(14646),d={display:"flex",justifyContent:"center",marginTop:"32px",marginBottom:"14px",paddingTop:"24px",paddingBottom:"10px"},s=function(e){return{backgroundColor:e.colorTokens.foreground.neutral.primary.hover,borderRadius:"50%",display:"inline-block",height:"3px",width:"3px"}},c={marginRight:"20px"};function m(){var e=(0,l.I)();return o.createElement("div",{className:e(d),role:"separator"},o.createElement("span",{className:e([s,c])}),o.createElement("span",{className:e([s,c])}),o.createElement("span",{className:e(s)}))}var u=t(41135),p=t(34699),k=t(90484),v=t(23450),f=t.n(v),g=t(17193),h=t(77355),S=t(8431),N=t(31889),y=t(34135);function b(e){var n=e.grid.xStep;return{padding:"".concat(3*n,"px ").concat(4*n,"px ").concat(3*n,"px"),width:"400px"}}function x(e){var n=e.close,t=e.users,i=(0,l.I)(),a=o.useRef(null),r=(0,N.F)(),d=r.grid.xStep;return o.useEffect((function(){function e(){var e=a.current;if(e&&e.getBoundingClientRect){var t=e.getBoundingClientRect(),i=t.bottom,o=t.top<0||i>window.innerHeight,l=window.innerWidth<r.breakpoints.xl;(o||l)&&n()}}return y.V6.on("scroll_end",e),y.V6.on("resize_throttled",e),function(){y.V6.off("scroll_end",e),y.V6.off("resize_throttled",e)}}),[]),o.createElement("section",{ref:a,className:i(b)},o.createElement(h.x,{borderBottom:"neutral.primary",marginBottom:"-".concat(d,"px"),paddingBottom:"".concat(2*d,"px")},o.createElement(S.Lh,null,"Highlights (".concat(t.length,")"))),o.createElement(h.x,{marginLeft:"3px"},t.length&&t.map((function(e){return o.createElement(h.x,{display:"inline-block",key:e.id,marginTop:"".concat(5*d,"px"),marginRight:"".concat(5*d,"px"),width:"".concat(8*d,"px")},o.createElement(g.Yt,{hasPopover:!0,link:!0,user:e,scale:"XS"}))}))))}var F=o.memo(x),E=t(83363),w=t(69217),P=t(60748),_=t(25267),O=t(61095),T=t(66227),I=t(87691),C=t(29746),D=t(39202);function R(){return{border:"none",cursor:"pointer",display:"block",padding:"0px",textAlign:"left",width:"100%"}}function L(){return{left:"100%",position:"absolute",top:0}}function A(e,n){return{marginTop:"6px",maxWidth:"100%",position:"absolute",top:"".concat(e-(n||0),"px"),whiteSpace:"nowrap",width:"100%"}}function M(e){return{marginLeft:"auto",marginRight:"auto",maxWidth:"".concat((0,C.G)(e,8,!0),"px"),position:"relative"}}function Z(){return{display:"inline-block",maxWidth:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}function B(e,n){return"number"==typeof e.startOffset&&"number"==typeof n.startOffset?e.startOffset<n.startOffset?-1:1:-1}function V(e,n){var t=n.startOffset,i=n.endOffset,a=n.paragraphs[0].name;if(!a||"number"!=typeof t||"number"!=typeof i)return e;var o=!1,r=e[a]||[];return r.length&&(r=r.map((function(e){var a=t<=e.endOffset+1,r=e.startOffset,l=e.endOffset;return a&&(o=!0,e.highlights.push(n),l=Math.max(i,e.endOffset),r=Math.min(t,e.startOffset)),{highlights:e.highlights,endOffset:l,startOffset:r}}))),o||r.push({highlights:[n],endOffset:i,startOffset:t}),e[a]=r,e}function j(e){var n=e.children,t=e.highlightString,i=e.toggle,a=(0,l.I)();return"Top highlight"===t?o.createElement(o.Fragment,null,n):o.createElement("button",{className:a(R),onClick:function(){return i()},onMouseDown:function(e){return e.preventDefault()}},n)}function U(e){var n=e.creator,t=e.positionMap,i=e.yPosOffset,a=e.viewerEdge,r=(0,l.I)();if("number"!=typeof i)return null;var d=Array.from(t.entries());return o.createElement(_.I,{nonBlocking:!0},(function(e){return o.createElement(o.Fragment,null,d.map((function(t,l){var d=(0,p.Z)(t,2),s=d[0],c=d[1],m=function(e,n,t,i){var a=null==i?void 0:i.isFollowing;if(1===e.length){if("anon"===e[0].userId)return"Top highlight";if(!n)return null;if(t&&t.id===e[0].userId&&n.id!==t.id&&!a)return null;if(n&&n.id===e[0].userId)return"You highlighted";if(e[0].user&&e[0].user.name)return e[0].user.name}var o=[];if(e.forEach((function(e){if(e.user){var i=n&&n.id===e.userId,r=e.user.name,l=t&&t.id===e.userId&&(!n||n.id!==t.id&&!a);i?o.length&&"You"===o[0]||o.unshift("You"):l||!r||o.includes(r)||o.push(r)}})),!o.length)return"Top highlight";if(1===o.length)return"You"===o[0]?"You highlighted":o[0];if(2===o.length)return"".concat(o[0]," and ").concat(o[1]);var r=o.slice(0,2),l=o.length-r.length;return"".concat(r[0],", ").concat(r[1],", and ").concat(l," ").concat(f()("other",l))}(c,e,n,a);return m?o.createElement("div",{className:r(A(s,i)),key:l},o.createElement(T.B,null,(function(e){var n=e.isVisible,t=e.hide,i=e.toggle;return o.createElement(o.Fragment,null,o.createElement(j,{toggle:i,highlightString:m},o.createElement(I.F,{scale:"S"},o.createElement("span",{className:r(Z)},m))),n&&o.createElement(w.G,{boundariesElement:"document",isVisible:!0,hide:t,placement:"right",popoverRenderFn:function(){var e=new Set,n=c.map((function(n){var t=n.user;return t&&t.id&&!e.has(t.id)?(e.add(t.id),t):null})).filter(D.bb);return o.createElement(F,{close:t,users:n})}},o.createElement(o.Fragment,null)))}))):null})))}))}var W=o.forwardRef((function(e,n){var t=e.creator,i=e.highlights,r=o.useContext(E.V).highlightSegments,d=o.useRef(null),s=o.useState(null),c=(0,p.Z)(s,2),m=c[0],u=c[1],v=(0,l.I)(),f=(0,N.F)(),g=o.useState(null),S=(0,p.Z)(g,2),b=S[0],x=S[1],F=o.useState(null),w=(0,p.Z)(F,2),_=w[0],T=w[1],I=(0,O.Pd)(t).viewerEdge;return o.useEffect((function(){var e=function(){var e=function(e,n,t){var i=new Map;if(e.size&&n.length){var o=function(e){var n=(0,a.Z)(e).sort(B).reduce(V,{});return Object.values(n).reduce((function(e,n){return n&&"object"===(0,k.Z)(n)&&n.length?(e.push.apply(e,(0,a.Z)(n)),e):e}),[])}(n),r=[];o.forEach((function(n){var a=n.highlights[0],o=a.paragraphs[0].name;if(a&&"number"==typeof a.startOffset&&o){var l=e.get("".concat(o,"_").concat(a.startOffset));if(l&&l.ref&&l.ref.current){var d,s=l.ref.current.getBoundingClientRect().top+window.pageYOffset;r.length&&(d=r.find((function(e){return s<e+t.newFonts.body.lineHeight.M&&s>e||s>e-t.newFonts.body.lineHeight.M&&s<e})));var c=d||s,m=i.get(c)||[];m.length||r.push(c);var u=m.concat(n.highlights);u.length&&i.set(c,u)}}}))}return i}(r,i,f);if(u(e),"function"!=typeof n&&null!=n&&n.current&&T(n.current.offsetTop),null!=d&&d.current){var t=d.current.getBoundingClientRect().left,o=window.innerWidth-t-8*f.grid.xStep;x(o)}};y.V6.on("resize_throttled",e);var t=(0,P.x)((function(n){"iframe.resize"!==n.context&&"player.js"!==n.context||e()})).destructor;return e(),function(){y.V6.off("resize_throttled",e),t()}}),[i,r]),o.createElement("div",{className:v(M)},o.createElement(h.x,{display:"block",xs:{display:"none"},sm:{display:"none"},md:{display:"none"},lg:{display:"none"},speechifyIgnore:!0},o.createElement("aside",{className:v(L),ref:d,style:{width:b?"".concat(b,"px"):void 0}},m&&o.createElement(U,{creator:t,highlights:i,positionMap:m,yPosOffset:_,width:b,viewerEdge:I}))))})),H=o.memo(W),G=t(75119);function z(e,n){var t;return Object.keys(e).some((function(i){return!!e[i].find((function(e){return e.insertType===n}))&&(t=i,!0)})),t}var Y=t(32342),K=o.forwardRef((function(e,n){var t,d,s=e.bodyModel,c=e.creator,p=e.highlights,k=e.isAuroraPostPageEnabled,v=e.privateNotes,f=e.postBodyInserts,g=e.richTextStyle,h=void 0===g?"FULL_PAGE":g,S=e.shouldHideHighlightAnnotations,N=void 0!==S&&S,y=(0,l.I)(),b=o.createRef(),x=null===(t=o.useContext(r.u6).watchedBounds.get("byline"))||void 0===t||null===(d=t.ref)||void 0===d?void 0:d.current,F=x?x.offsetTop-48:100,E={position:"absolute",left:0,top:"calc(100vh + ".concat(F,"px)"),bottom:"calc(100vh + ".concat(100,"px)"),width:"10px",pointerEvents:"none"},w=(0,G.Z)().privateNoteSelection,P=o.useMemo((function(){return p&&w?[].concat((0,a.Z)(p),[w]):p}),[p,w]),_=f?function(e){return z(e,"BYLINE")}(f):void 0,O=f?function(e){return z(e,"METER")}(f):void 0,T=o.useMemo((function(){return(0,Y.fj)(s,{bylineParagraphName:_,meterParagraphName:O,highlights:P,isAuroraPostPageEnabled:k,isPostPage:!0,privateNotes:v,richTextStyle:h})}),[s,P,v,h]),I=f&&f.first;return o.createElement("section",{ref:n},o.createElement("div",{ref:b},o.createElement(o.Fragment,null,o.createElement(r.TA,{name:"ghost-track",type:"ghost",className:y(E)}),"FULL_PAGE"===h&&p&&p.length>0&&!N&&o.createElement(H,{creator:c,highlights:(0,a.Z)(p),ref:n}),!!I&&I.map((function(e,n){return e.component?o.createElement("div",{key:"postBodyInsertFirst_".concat(n)},e.component):null}))),T.map((function(e,n){if("HR"===e){var t,a,r=T[n-1],l=T[n+1],d="HR"!==r&&(null==r||null===(t=r.section)||void 0===t?void 0:t.backgroundImage),s="HR"!==l&&(null==l||null===(a=l.section)||void 0===a?void 0:a.backgroundImage);return d||s?null:o.createElement(m,{key:n})}return o.createElement(u.b,(0,i.Z)({key:e.section.name||n,postBodyInserts:f},e))}))))}))},31228:(e,n,t)=>{"use strict";t.d(n,{R:()=>d});var i=t(87329),a=t(10654),o=t(8045),r=t(90059),l=t(93403),d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostFooterActionsBar_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"visibility"}},{kind:"Field",name:{kind:"Name",value:"allowResponses"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"isLimitedState"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"MultiVote_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostSharePopover_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"OverflowMenuButtonWithNegativeSignal_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"BookmarkButton_post"}}]}}].concat((0,i.Z)(a.x.definitions),(0,i.Z)(o.G.definitions),(0,i.Z)(r.v.definitions),(0,i.Z)(l.z.definitions))}},8045:(e,n,t)=>{"use strict";t.d(n,{G:()=>s});var i=t(87329),a=t(4088),o=t(98007),r=t(97282),l=t(78620),d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FriendLink_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useCopyFriendLink_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UpsellClickable_post"}}]}}].concat((0,i.Z)(o.qU.definitions),(0,i.Z)(r.N.definitions),(0,i.Z)(l.H.definitions))},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostSharePopover_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"isPublished"}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"FragmentSpread",name:{kind:"Name",value:"usePostUrl_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"FriendLink_post"}}]}}].concat((0,i.Z)(a.u.definitions),(0,i.Z)(d.definitions))}},14538:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var i=t(87329),a=t(52831),o=t(76075),r=t(33960),l=t(19830),d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PagedThreadedPostResponses_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"StoryResponse_threadedStoryResponse_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SimpleResponse_threadedSimpleResponse_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SimpleResponse_threadedSimpleResponse_defaultPostResponses"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ResponseHeader_post"}}]}}].concat((0,i.Z)(o.tt.definitions),(0,i.Z)(r.Df.definitions),(0,i.Z)(r.K5.definitions),(0,i.Z)(l.FN.definitions))},s={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PagedThreadedPostResponsesQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postResponsesPaging"}},type:{kind:"NamedType",name:{kind:"Name",value:"PagingOptions"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sortType"}},type:{kind:"NamedType",name:{kind:"Name",value:"ResponseSortType"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CloseDiscussion_post"}},{kind:"Field",name:{kind:"Name",value:"responsesCount"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"responseRootPost"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"responseDepth"}}]}},{kind:"Field",name:{kind:"Name",value:"threadedPostResponses"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"Variable",name:{kind:"Name",value:"postResponsesPaging"}}},{kind:"Argument",name:{kind:"Name",value:"sortType"},value:{kind:"Variable",name:{kind:"Name",value:"sortType"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"autoExpandedPostIds"}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"next"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"}},{kind:"Field",name:{kind:"Name",value:"to"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"posts"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PagedThreadedPostResponses_post"}}]}}]}}]}}]}}].concat((0,i.Z)(a.Z.definitions),(0,i.Z)(d.definitions))}},28272:(e,n,t)=>{"use strict";t.d(n,{y:()=>l});var i=t(87329),a=t(62236),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedResponsesSidebarContent_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"postResponses"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isEditor"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedReplies_post"}}]}}].concat((0,i.Z)(a.e9.definitions))},r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ThreadedResponsesSidebar_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedResponsesSidebarContent_post"}}]}}].concat((0,i.Z)(o.definitions))},l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"WithResponsesSidebar_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"ThreadedResponsesSidebar_post"}}]}}].concat((0,i.Z)(r.definitions))}},35194:(e,n,t)=>{"use strict";t.d(n,{k:()=>F});var i=t(34699),a=t(67294),o=t(6722),r=t(43242),l=t(80745),d=t(90484),s=t(81253),c=t(92137),m=t(38460),u=t(68356),p=t.n(u),k=t(76412),v=t(18733),f=t(66411),g=t(50742),h=t(75221),S=t(14538),N=["__typename"];function y(){y=function(){return n};var e,n={},t=Object.prototype,i=t.hasOwnProperty,a=Object.defineProperty||function(e,n,t){e[n]=t.value},o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{c({},"")}catch(e){c=function(e,n,t){return e[n]=t}}function m(e,n,t,i){var o=n&&n.prototype instanceof h?n:h,r=Object.create(o.prototype),l=new C(i||[]);return a(r,"_invoke",{value:_(e,t,l)}),r}function u(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}n.wrap=m;var p="suspendedStart",k="suspendedYield",v="executing",f="completed",g={};function h(){}function S(){}function N(){}var b={};c(b,r,(function(){return this}));var x=Object.getPrototypeOf,F=x&&x(x(D([])));F&&F!==t&&i.call(F,r)&&(b=F);var E=N.prototype=h.prototype=Object.create(b);function w(e){["next","throw","return"].forEach((function(n){c(e,n,(function(e){return this._invoke(n,e)}))}))}function P(e,n){function t(a,o,r,l){var s=u(e[a],e,o);if("throw"!==s.type){var c=s.arg,m=c.value;return m&&"object"==(0,d.Z)(m)&&i.call(m,"__await")?n.resolve(m.__await).then((function(e){t("next",e,r,l)}),(function(e){t("throw",e,r,l)})):n.resolve(m).then((function(e){c.value=e,r(c)}),(function(e){return t("throw",e,r,l)}))}l(s.arg)}var o;a(this,"_invoke",{value:function(e,i){function a(){return new n((function(n,a){t(e,i,n,a)}))}return o=o?o.then(a,a):a()}})}function _(n,t,i){var a=p;return function(o,r){if(a===v)throw new Error("Generator is already running");if(a===f){if("throw"===o)throw r;return{value:e,done:!0}}for(i.method=o,i.arg=r;;){var l=i.delegate;if(l){var d=O(l,i);if(d){if(d===g)continue;return d}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(a===p)throw a=f,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a=v;var s=u(n,t,i);if("normal"===s.type){if(a=i.done?f:k,s.arg===g)continue;return{value:s.arg,done:i.done}}"throw"===s.type&&(a=f,i.method="throw",i.arg=s.arg)}}}function O(n,t){var i=t.method,a=n.iterator[i];if(a===e)return t.delegate=null,"throw"===i&&n.iterator.return&&(t.method="return",t.arg=e,O(n,t),"throw"===t.method)||"return"!==i&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+i+"' method")),g;var o=u(a,n.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,g;var r=o.arg;return r?r.done?(t[n.resultName]=r.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=e),t.delegate=null,g):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function T(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function I(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function D(n){if(n||""===n){var t=n[r];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var a=-1,o=function t(){for(;++a<n.length;)if(i.call(n,a))return t.value=n[a],t.done=!1,t;return t.value=e,t.done=!0,t};return o.next=o}}throw new TypeError((0,d.Z)(n)+" is not iterable")}return S.prototype=N,a(E,"constructor",{value:N,configurable:!0}),a(N,"constructor",{value:S,configurable:!0}),S.displayName=c(N,s,"GeneratorFunction"),n.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===S||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,N):(e.__proto__=N,c(e,s,"GeneratorFunction")),e.prototype=Object.create(E),e},n.awrap=function(e){return{__await:e}},w(P.prototype),c(P.prototype,l,(function(){return this})),n.AsyncIterator=P,n.async=function(e,t,i,a,o){void 0===o&&(o=Promise);var r=new P(m(e,t,i,a),o);return n.isGeneratorFunction(t)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},w(E),c(E,s,"Generator"),c(E,r,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var n=Object(e),t=[];for(var i in n)t.push(i);return t.reverse(),function e(){for(;t.length;){var i=t.pop();if(i in n)return e.value=i,e.done=!1,e}return e.done=!0,e}},n.values=D,C.prototype={constructor:C,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!n)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var t=this;function a(i,a){return l.type="throw",l.arg=n,t.next=i,a&&(t.method="next",t.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],l=r.completion;if("root"===r.tryLoc)return a("end");if(r.tryLoc<=this.prev){var d=i.call(r,"catchLoc"),s=i.call(r,"finallyLoc");if(d&&s){if(this.prev<r.catchLoc)return a(r.catchLoc,!0);if(this.prev<r.finallyLoc)return a(r.finallyLoc)}else if(d){if(this.prev<r.catchLoc)return a(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return a(r.finallyLoc)}}}},abrupt:function(e,n){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc<=this.prev&&i.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=e,r.arg=n,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(r)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),g},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),I(t),g}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var i=t.completion;if("throw"===i.type){var a=i.arg;I(t)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(n,t,i){return this.delegate={iterator:D(n),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=e),g}},n}var b=p()({loading:function(){return null},loader:function(){return Promise.all([t.e(7084),t.e(372),t.e(5459),t.e(6804),t.e(8883),t.e(6318),t.e(513),t.e(8913)]).then(t.bind(t,41469))},modules:["./ThreadedResponsesSidebarContent"],webpack:function(){return[41469]},render:(0,g.n)("ThreadedResponsesSidebarContent")}),x=function(e){var n,t,o,r,d,u,p,g,x,F=e.isResponsesSidebarVisible,E=e.inResponseToQuote,w=e.setInResponseToQuote,P=e.parentPost,_=e.continueThisThreadPost,O=e.continueThisThreadPostDepth,T=e.showPreviousSidebar,I=e.cleanupSidebar,C=e.initialSidebarRender,D=e.responsesSort,R=D?h.sV[D]:void 0,L=a.useState(R||h.sV.TOP),A=(0,i.Z)(L,2),M=A[0],Z=A[1],B=a.useState(!1),V=(0,i.Z)(B,2),j=V[0],U=V[1],W=a.useRef(null),H=(0,m.t)(S.A,{variables:{postId:P.id,postResponsesPaging:{limit:l.p4},sortType:M},ssr:!1}),G=(0,i.Z)(H,2),z=G[0],Y=G[1],K=Y.called,q=Y.loading,X=Y.data,Q=Y.fetchMore;K||_||!F||(z(),b.preload());var J=null==X||null===(n=X.post)||void 0===n?void 0:n.responsesLocked,$=null==X||null===(t=X.post)||void 0===t?void 0:t.isLockedResponse,ee=(0,l.aj)(F,C,null==X||null===(o=X.post)||void 0===o?void 0:o.threadedPostResponses,_),ne=ee.responses,te=ee.showCreateReplyEditor,ie=(null==X||null===(r=X.post)||void 0===r||null===(d=r.responseRootPost)||void 0===d||null===(u=d.post)||void 0===u?void 0:u.id)||"",ae=O||(null==X||null===(p=X.post)||void 0===p||null===(g=p.responseRootPost)||void 0===g?void 0:g.responseDepth)||0,oe=void 0,re=null==ne||null===(x=ne.pagingInfo)||void 0===x?void 0:x.next;return re&&!_&&(oe=function(){var e=(0,c.Z)(y().mark((function e(){var n;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Q){e.next=5;break}return re.__typename,n=(0,s.Z)(re,N),e.next=4,Q({variables:{postId:P.id,postResponsesPaging:n}});case 4:U(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),a.createElement(v.N8,null,a.createElement(f.cW,{source:{name:"responses",postId:P.id},extendSource:!0},a.createElement(k.I,{sidebarRef:W,cleanupSidebar:I,isResponsesSidebarVisible:F,pagingInfoNext:re,isFetchingNextSetOfResponses:j,setIsFetching:U,fetchMoreWithArguments:oe,initialSidebarRender:C},(function(e){var n=e.responseDistribution,t=e.setResponseDistribution,i=e.closeSidebar;return K||_?a.createElement(b,{responses:ne,parentPost:P,responsesLocked:J,isLockedResponse:$,isLoadingInitialContent:q,isFetchingNextSetOfResponses:j,isResponsesSidebarVisible:F,closeSidebar:i,showPreviousSidebar:T,inResponseToQuote:E,setInResponseToQuote:w,sidebarRef:W,responseDistribution:n,setResponseDistribution:t,responseSortType:M,setResponseSortType:Z,rootPostId:ie,postDepth:ae,isContinueThisThread:!!_,showCreateReplyEditor:te}):null}))))},F=function(e){var n=e.children,t=e.post,d=(0,a.useState)(void 0),s=(0,i.Z)(d,2),c=s[0],m=s[1],u=(0,a.useCallback)((function(e){return function(n){m(n),e()}}),[]);return a.createElement(r.E,null,(function(e){var i=e.showPreviousSidebar,r=e.hasLoaded,d=e.initialSidebarRender,s=e.isVisible,p=e.continueThisThreadPosts,k=e.openSidebar,v=e.cleanupSidebar,f=e.responseSortOption;return a.createElement(o.Q.Provider,{value:{openSidebarToRespondToHighlight:u(k)}},!!t&&r&&a.createElement(x,{isResponsesSidebarVisible:s&&0===p.length,parentPost:t,inResponseToQuote:c,setInResponseToQuote:m,showPreviousSidebar:i,cleanupSidebar:v,initialSidebarRender:!!d.current,responsesSort:f}),!!t&&r&&p.map((function(e,n,o){var r=(0,l.iI)(n);return a.createElement(x,{key:t.id,isResponsesSidebarVisible:s&&n===o.length-1,parentPost:t,inResponseToQuote:c,setInResponseToQuote:m,continueThisThreadPost:e,continueThisThreadPostDepth:r,showPreviousSidebar:i,cleanupSidebar:v,initialSidebarRender:!!d.current,responsesSort:f})})),n)}))}},52831:(e,n,t)=>{"use strict";t.d(n,{Z:()=>a,EI:()=>o,Fe:()=>r,eS:()=>l});var i=t(87329),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CloseDiscussion_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"responsesLocked"}},{kind:"Field",name:{kind:"Name",value:"isLockedResponse"}}]}}]},o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FetchPostResponsesLockedQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CloseDiscussion_post"}}]}}]}}].concat((0,i.Z)(a.definitions))},r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LockResponsesOnPostMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lockResponsesOnPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}]}]}}]},l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlockResponsesOnPostMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlockResponsesOnPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}]}]}}]}},76412:(e,n,t)=>{"use strict";t.d(n,{I:()=>v});var i=t(34699),a=t(15303),o=t(67294),r=t(82186),l=t(80745),d=t(14646),s=t(75221),c=t(96156),m=t(97489),u=function(e,n,t){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"white";return function(a){var o=n?"0.6s":"0s";return(0,c.Z)({width:t,position:"fixed",zIndex:520,backgroundColor:i,left:"100%",top:"0px",height:"100%",boxSizing:"border-box",overflow:"auto","-ms-overflow-style":"-ms-autohiding-scrollbar",boxShadow:"rgba(0, 0, 0, 0.15) 0px 4px 12px",opacity:1,transform:e?"translateX(-".concat(t,")"):"translateX(0px)",transition:"transform ".concat(o," cubic-bezier(0.23, 1, 0.32, 1) 0s, opacity ").concat(o," cubic-bezier(0.23, 1, 0.32, 1) 0s"),visibility:e?"visible":"hidden"},(0,m.sm)(a),{left:0,width:"100%",borderTopLeftRadius:"20px",borderTopRightRadius:"20px",transform:e?"translateY(30px)":"translateY(100%)","-webkit-overflow-scrolling":"touch"})}},p=function(e){var n={top:"0px",left:"0px",width:"100%",height:"100%",position:"fixed",backgroundColor:"rgba(0, 0, 0, 0.08)",zIndex:510,cursor:"pointer",opacity:0,pointerEvents:"none"};return e&&(n.transition="opacity 0.6s cubic-bezier(0.23, 1, 0.32, 1) 0s"),n},k={"@media print":{display:"none"}},v=function(e){var n=e.cleanupSidebar,t=e.children,c=e.isResponsesSidebarVisible,m=e.pagingInfoNext,v=e.isFetchingNextSetOfResponses,f=e.setIsFetching,g=e.fetchMoreWithArguments,h=e.initialSidebarRender,S=e.sidebarRef,N=(0,d.I)(),y=o.useRef(null),b=o.useState(null),x=(0,i.Z)(b,2),F=x[0],E=x[1],w=o.useState(s.Et.NOT_DISTRIBUTED),P=(0,i.Z)(w,2),_=P[0],O=P[1];o.useEffect((function(){var e=y.current;if(e&&c){if(!F){var n=(0,a.v)(e,{initialFocus:e,fallbackFocus:e,preventScroll:!0,allowOutsideClick:function(e){var n;return!(null===(n=e.target)||void 0===n||!n.closest("reach-portal"))}});n.activate(),E(n)}return function(){F&&(F.deactivate(),E(null))}}}),[y.current,F,E,c]);var T,I=o.useCallback((function(){O(s.Et.NOT_DISTRIBUTED),n()}),[n]);return o.createElement("div",{className:N(k),role:"dialog","aria-modal":"true",ref:y,tabIndex:-1},o.createElement("div",{className:N([p(h),(T=c,T?{opacity:1,pointerEvents:"all"}:{})]),onClick:I,onKeyUp:function(e){13===e.keyCode&&I()},"aria-hidden":!c,role:"presentation"}),o.createElement("div",{className:N([u(c,h,r.ZR)]),"aria-hidden":!c,onScroll:function(e){return(0,l.vL)(e,m,v,f,g)},ref:S},t({responseDistribution:_,setResponseDistribution:O,closeSidebar:I})))}},97282:(e,n,t)=>{"use strict";t.d(n,{N:()=>o,I:()=>r});var i=t(87329),a=t(4088),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useCopyFriendLink_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"usePostUrl_post"}}]}}].concat((0,i.Z)(a.u.definitions))},r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreatePostShareKeyMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createPostShareKey"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostShareKey"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"}}]}}]}}]}}]}},55193:(e,n,t)=>{"use strict";t.d(n,{v:()=>i,Q:()=>a});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SuspendedBannerLoader_user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isSuspended"}}]}}]},a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SuspendedBannerLoader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isSuspended"}}]}}]}},66018:(e,n,t)=>{"use strict";t.d(n,{L:()=>l});var i=t(67294),a=t(86706),o=t(25735),r=t(78285),l=function(e){var n=e.user,t=e.post,l=e.forceLoad,d=void 0!==l&&l,s=(0,a.I0)(),c=(0,o.V)({name:"can_view_suspended_content",placeholder:!1})||d;return i.useEffect((function(){c&&(n&&n.isSuspended?s((0,r.Dx)({duration:"NEXTPAGE",toastStyle:"USER_SUSPENDED"})):t&&t.isSuspended&&s((0,r.Dx)({duration:"NEXTPAGE",toastStyle:"POST_SUSPENDED"})))}),[c]),null}},78620:(e,n,t)=>{"use strict";t.d(n,{H:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"UpsellClickable_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sequenceId"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}},16793:(e,n,t)=>{"use strict";t.d(n,{Z:()=>i});const i=t(3863).N.Consumer}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/PostPage.MainContent.357c221c.chunk.js.map